(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{3082:function(e,t,r){"use strict";var i,s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{createBrowserSupabaseClient:()=>O,createClientComponentClient:()=>u,createMiddlewareClient:()=>b,createMiddlewareSupabaseClient:()=>P,createPagesBrowserClient:()=>d,createPagesServerClient:()=>m,createRouteHandlerClient:()=>x,createServerActionClient:()=>k,createServerComponentClient:()=>S,createServerSupabaseClient:()=>C}),e.exports=((e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of a(t))o.call(e,r)||void 0===r||s(e,r,{get:()=>t[r],enumerable:!(i=n(t,r))||i.enumerable});return e})(s({},"__esModule",{value:!0}),l);var c=r(9335);function u({supabaseUrl:e="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:r,cookieOptions:s,isSingleton:n=!0}={}){if(!e||!t)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");let a=()=>{var i;return(0,c.createSupabaseClient)(e,t,{...r,global:{...null==r?void 0:r.global,headers:{...null==(i=null==r?void 0:r.global)?void 0:i.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.3"}},auth:{storageKey:null==s?void 0:s.name,storage:new c.BrowserCookieAuthStorageAdapter(s)}})};if(n){let e=i??a();return"undefined"==typeof window?e:(i||(i=e),i)}return a()}var d=u,h=r(9335),p=r(8027),f=class extends h.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let r=(0,p.splitCookiesString)((null==(t=this.context.res.getHeader("set-cookie"))?void 0:t.toString())??"").map(t=>(0,h.parseCookies)(t)[e]).find(e=>!!e),i=r??this.context.req.cookies[e];return i}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,r){var i;let s=(0,p.splitCookiesString)((null==(i=this.context.res.getHeader("set-cookie"))?void 0:i.toString())??"").filter(t=>!(e in(0,h.parseCookies)(t))),n=(0,h.serializeCookie)(e,t,{...this.cookieOptions,...r,httpOnly:!1});this.context.res.setHeader("set-cookie",[...s,n])}};function m(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){var n;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,h.createSupabaseClient)(t,r,{...i,global:{...null==i?void 0:i.global,headers:{...null==(n=null==i?void 0:i.global)?void 0:n.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.3"}},auth:{storageKey:null==s?void 0:s.name,storage:new f(e,s)}})}var g=r(9335),v=r(8027),y=class extends g.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let r=(0,v.splitCookiesString)((null==(t=this.context.res.headers.get("set-cookie"))?void 0:t.toString())??"").map(t=>(0,g.parseCookies)(t)[e]).find(e=>!!e);return r||(0,g.parseCookies)(this.context.req.headers.get("cookie")??"")[e]}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,r){let i=(0,g.serializeCookie)(e,t,{...this.cookieOptions,...r,httpOnly:!1});this.context.res.headers&&(this.context.res.headers.append("set-cookie",i),this.context.res.headers.append("cookie",i))}};function b(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){var n;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,g.createSupabaseClient)(t,r,{...i,global:{...null==i?void 0:i.global,headers:{...null==(n=null==i?void 0:i.global)?void 0:n.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.3"}},auth:{storageKey:null==s?void 0:s.name,storage:new y(e,s)}})}var w=r(9335),_=class extends w.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let r=this.context.cookies();return null==(t=r.get(e))?void 0:t.value}setCookie(e,t){}deleteCookie(e){}};function S(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){var n;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,w.createSupabaseClient)(t,r,{...i,global:{...null==i?void 0:i.global,headers:{...null==(n=null==i?void 0:i.global)?void 0:n.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.3"}},auth:{storageKey:null==s?void 0:s.name,storage:new _(e,s)}})}var T=r(9335),E=class extends T.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let r=this.context.cookies();return null==(t=r.get(e))?void 0:t.value}setCookie(e,t){let r=this.context.cookies();r.set(e,t,this.cookieOptions)}deleteCookie(e){let t=this.context.cookies();t.set(e,"",{maxAge:0})}};function x(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){var n;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,T.createSupabaseClient)(t,r,{...i,global:{...null==i?void 0:i.global,headers:{...null==(n=null==i?void 0:i.global)?void 0:n.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.3"}},auth:{storageKey:null==s?void 0:s.name,storage:new E(e,s)}})}var k=x;function O({supabaseUrl:e="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:r,cookieOptions:i}={}){return console.warn("Please utilize the `createPagesBrowserClient` function instead of the deprecated `createBrowserSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),d({supabaseUrl:e,supabaseKey:t,options:r,cookieOptions:i})}function C(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){return console.warn("Please utilize the `createPagesServerClient` function instead of the deprecated `createServerSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),m(e,{supabaseUrl:t,supabaseKey:r,options:i,cookieOptions:s})}function P(e,{supabaseUrl:t="https://lrxqrmfzyehktopsnyot.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxyeHFybWZ6eWVoa3RvcHNueW90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTA5OTYxOTUsImV4cCI6MjAwNjU3MjE5NX0.-L1HycVH16AAf5sRsfpZEYTcAikfvYLkIGUlVCXJaS4",options:i,cookieOptions:s}={}){return console.warn("Please utilize the `createMiddlewareClient` function instead of the deprecated `createMiddlewareSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs#middleware"),b(e,{supabaseUrl:t,supabaseKey:r,options:i,cookieOptions:s})}},9366:function(e,t){var r="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,r,i=c(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=n(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[n(e)]},l.prototype.get=function(e){return e=n(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},l.prototype.set=function(e,t){this.map[n(e)]=a(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r,i,s=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),f.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},p.call(m.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];v.redirect=function(e,t){if(-1===y.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=i.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(r,i){return new Promise(function(s,n){var a=new m(r,i);if(a.signal&&a.signal.aborted)return n(new e.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var s=r.join(":").trim();t.append(i,s)}}),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;s(new v(i,r))},o.onerror=function(){n(TypeError("Network request failed"))},o.ontimeout=function(){n(TypeError("Network request failed"))},o.onabort=function(){n(new e.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&t.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",c),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",c)}),o.send(void 0===a._bodyInit?null:a._bodyInit)})}b.polyfill=!0,i.fetch||(i.fetch=b,i.Headers=l,i.Request=m,i.Response=v),e.Headers=l,e.Request=m,e.Response=v,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill,(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},9472:function(e){var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{if(!__global__)return t();return __global__}finally{delete Object.prototype.__global__}}()},7607:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}}),r(6070);let i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7561:function(e,t,r){"use strict";function i(e,t,r,i){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return i}}),r(6070),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return s}});let i=r(6892);function s(e){return(0,i.pathHasPrefix)(e,"")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6685:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});let i=r(1024),s=i._(r(2265)),n=r(2156),a=r(3954),o=r(6162),l=r(5090),c=r(7607),u=r(2706),d=r(6656),h=r(5033),p=r(7561),f=r(6711),m=r(5685),g=new Set;function v(e,t,r,i,s,n){if(!n&&!(0,a.isLocalURL)(t))return;if(!i.bypassPrefetchedCheck){let s=void 0!==i.locale?i.locale:"locale"in e?e.locale:void 0,n=t+"%"+r+"%"+s;if(g.has(n))return;g.add(n)}let o=n?e.prefetch(t,s):e.prefetch(t,r,i);Promise.resolve(o).catch(e=>{})}function y(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}let b=s.default.forwardRef(function(e,t){let r,i;let{href:o,as:g,children:b,prefetch:w=null,passHref:_,replace:S,shallow:T,scroll:E,locale:x,onClick:k,onMouseEnter:O,onTouchStart:C,legacyBehavior:P=!1,...I}=e;r=b,P&&("string"==typeof r||"number"==typeof r)&&(r=s.default.createElement("a",null,r));let j=s.default.useContext(u.RouterContext),A=s.default.useContext(d.AppRouterContext),M=null!=j?j:A,L=!j,R=!1!==w,$=null===w?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:N,as:U}=s.default.useMemo(()=>{if(!j){let e=y(o);return{href:e,as:g?y(g):e}}let[e,t]=(0,n.resolveHref)(j,o,!0);return{href:e,as:g?(0,n.resolveHref)(j,g):t||e}},[j,o,g]),D=s.default.useRef(N),z=s.default.useRef(U);P&&(i=s.default.Children.only(r));let B=P?i&&"object"==typeof i&&i.ref:t,[F,G,H]=(0,h.useIntersection)({rootMargin:"200px"}),V=s.default.useCallback(e=>{(z.current!==U||D.current!==N)&&(H(),z.current=U,D.current=N),F(e),B&&("function"==typeof B?B(e):"object"==typeof B&&(B.current=e))},[U,B,N,H,F]);s.default.useEffect(()=>{M&&G&&R&&v(M,N,U,{locale:x},{kind:$},L)},[U,N,G,x,R,null==j?void 0:j.locale,M,L,$]);let J={ref:V,onClick(e){P||"function"!=typeof k||k(e),P&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),M&&!e.defaultPrevented&&function(e,t,r,i,n,o,l,c,u,d){let{nodeName:h}=e.currentTarget,p="A"===h.toUpperCase();if(p&&(function(e){let t=e.currentTarget,r=t.getAttribute("target");return r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,a.isLocalURL)(r)))return;e.preventDefault();let f=()=>{let e=null==l||l;"beforePopState"in t?t[n?"replace":"push"](r,i,{shallow:o,locale:c,scroll:e}):t[n?"replace":"push"](i||r,{forceOptimisticNavigation:!d,scroll:e})};u?s.default.startTransition(f):f()}(e,M,N,U,S,T,E,x,L,R)},onMouseEnter(e){P||"function"!=typeof O||O(e),P&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),M&&(R||!L)&&v(M,N,U,{locale:x,priority:!0,bypassPrefetchedCheck:!0},{kind:$},L)},onTouchStart(e){P||"function"!=typeof C||C(e),P&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),M&&(R||!L)&&v(M,N,U,{locale:x,priority:!0,bypassPrefetchedCheck:!0},{kind:$},L)}};if((0,l.isAbsoluteUrl)(U))J.href=U;else if(!P||_||"a"===i.type&&!("href"in i.props)){let e=void 0!==x?x:null==j?void 0:j.locale,t=(null==j?void 0:j.isLocaleDomain)&&(0,p.getDomainLocale)(U,e,null==j?void 0:j.locales,null==j?void 0:j.domainLocales);J.href=t||(0,f.addBasePath)((0,c.addLocale)(U,e,null==j?void 0:j.defaultLocale))}return P?s.default.cloneElement(i,J):s.default.createElement("a",{...I,...J},r)}),w=b;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8043:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{requestIdleCallback:function(){return r},cancelIdleCallback:function(){return i}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5033:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let i=r(2265),s=r(8043),n="function"==typeof IntersectionObserver,a=new Map,o=[];function l(e){let{rootRef:t,rootMargin:r,disabled:l}=e,c=l||!n,[u,d]=(0,i.useState)(!1),h=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{h.current=e},[]);(0,i.useEffect)(()=>{if(n){if(c||u)return;let e=h.current;if(e&&e.tagName){let i=function(e,t,r){let{id:i,observer:s,elements:n}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},i=o.find(e=>e.root===r.root&&e.margin===r.margin);if(i&&(t=a.get(i)))return t;let s=new Map,n=new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e);return t={id:r,observer:n,elements:s},o.push(r),a.set(r,t),t}(r);return n.set(e,t),s.observe(e),function(){if(n.delete(e),s.unobserve(e),0===n.size){s.disconnect(),a.delete(i);let e=o.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r});return i}}else if(!u){let e=(0,s.requestIdleCallback)(()=>d(!0));return()=>(0,s.cancelIdleCallback)(e)}},[c,r,t,u,h.current]);let f=(0,i.useCallback)(()=>{d(!1)},[]);return[p,u,f]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return s}});let r=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function s(e){return r.test(e)?e.replace(i,"\\$&"):e}},2706:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let i=r(1024),s=i._(r(2265)),n=s.default.createContext(null)},6162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return a},urlObjectKeys:function(){return o},formatWithValidation:function(){return l}});let i=r(8533),s=i._(r(5769)),n=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,i=e.protocol||"",a=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||n.test(i))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),""+i+c+(a=a.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+o}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function l(e){return a(e)}},9232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return n}});let i=r(3658),s=r(8489);function n(e,t,r){let n="",a=(0,s.getRouteRegex)(e),o=a.groups,l=(t!==e?(0,i.getRouteMatcher)(a)(t):"")||r;n=e;let c=Object.keys(o);return c.every(e=>{let t=l[e]||"",{repeat:r,optional:i}=o[e],s="["+(r?"...":"")+e+"]";return i&&(s=(t?"":"/")+"["+s+"]"),r&&!Array.isArray(t)&&(t=[t]),(i||e in l)&&(n=n.replace(s,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(n=""),{params:c,result:n}}},8354:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return i}});let r=/\/\[[^/]+?\](?=\/|$)/;function i(e){return r.test(e)}},3954:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return n}});let i=r(5090),s=r(3719);function n(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},3259:function(e,t){"use strict";function r(e,t){let r={};return Object.keys(e).forEach(i=>{t.includes(i)||(r[i]=e[i])}),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r}})},6892:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let i=r(2590);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},5769:function(e,t){"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function i(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,s]=e;Array.isArray(s)?s.forEach(e=>t.append(r,i(e))):t.set(r,i(s))}),t}function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return s},assign:function(){return n}})},2156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});let i=r(5769),s=r(6162),n=r(3259),a=r(5090),o=r(6070),l=r(3954),c=r(8354),u=r(9232);function d(e,t,r){let d;let h="string"==typeof t?t:(0,s.formatWithValidation)(t),p=h.match(/^[a-zA-Z]{1,}:\/\//),f=p?h.slice(p[0].length):h;if((f.split("?")[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+h+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,a.normalizeRepeatedSlashes)(f);h=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(h))return r?[h]:h;try{d=new URL(h.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{let e=new URL(h,d);e.pathname=(0,o.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&r){let r=(0,i.searchParamsToUrlQuery)(e.searchParams),{result:a,params:o}=(0,u.interpolateAs)(e.pathname,e.pathname,r);a&&(t=(0,s.formatWithValidation)({pathname:a,hash:e.hash,query:(0,n.omit)(r,o)}))}let a=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return r?[a,t||a]:a}catch(e){return r?[h]:h}}},3658:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return s}});let i=r(5090);function s(e){let{re:t,groups:r}=e;return e=>{let s=t.exec(e);if(!s)return!1;let n=e=>{try{return decodeURIComponent(e)}catch(e){throw new i.DecodeError("failed to decode param")}},a={};return Object.keys(r).forEach(e=>{let t=r[e],i=s[t.pos];void 0!==i&&(a[e]=~i.indexOf("/")?i.split("/").map(e=>n(e)):t.repeat?[n(i)]:n(i))}),a}}},8489:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRouteRegex:function(){return l},getNamedRouteRegex:function(){return d},getNamedMiddlewareRegex:function(){return h}});let i=r(4507),s=r(3805),n=r(7369);function a(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function o(e){let t=(0,n.removeTrailingSlash)(e).slice(1).split("/"),r={},o=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),n=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&n){let{key:e,optional:i,repeat:l}=a(n[1]);return r[e]={pos:o++,repeat:l,optional:i},"/"+(0,s.escapeStringRegexp)(t)+"([^/]+?)"}if(!n)return"/"+(0,s.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=a(n[1]);return r[e]={pos:o++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function l(e){let{parameterizedRoute:t,groups:r}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function c(e){let t,r,{segment:i,routeKeys:s,keyPrefix:n}=e,o=(t=97,r=1,()=>{let e="";for(let i=0;i<r;i++)e+=String.fromCharCode(t),++t>122&&(r++,t=97);return e}),{key:l,optional:c,repeat:u}=a(i),d=l.replace(/\W/g,"");n&&(d=""+n+d);let h=!1;return(0===d.length||d.length>30)&&(h=!0),isNaN(parseInt(d.slice(0,1)))||(h=!0),h&&(d=o()),n?s[d]=""+n+l:s[d]=""+l,u?c?"(?:/(?<"+d+">.+?))?":"/(?<"+d+">.+?)":"/(?<"+d+">[^/]+?)"}function u(e,t){let r=(0,n.removeTrailingSlash)(e).slice(1).split("/"),a={};return{namedParameterizedRoute:r.map(e=>{let r=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),n=e.match(/\[((?:\[.*\])|.+)\]/);return r&&n?c({segment:n[1],routeKeys:a,keyPrefix:t?"nxtI":void 0}):n?c({segment:n[1],routeKeys:a,keyPrefix:t?"nxtP":void 0}):"/"+(0,s.escapeStringRegexp)(e)}).join(""),routeKeys:a}}function d(e,t){let r=u(e,t);return{...l(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function h(e,t){let{parameterizedRoute:r}=o(e),{catchAll:i=!0}=t;if("/"===r)return{namedRegex:"^/"+(i?".*":"")+"$"};let{namedParameterizedRoute:s}=u(e,!1);return{namedRegex:"^"+s+(i?"(?:(/.*)?)":"")+"$"}}},5090:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{WEB_VITALS:function(){return r},execOnce:function(){return i},isAbsoluteUrl:function(){return n},getLocationOrigin:function(){return a},getURL:function(){return o},getDisplayName:function(){return l},isResSent:function(){return c},normalizeRepeatedSlashes:function(){return u},loadGetInitialProps:function(){return d},SP:function(){return h},ST:function(){return p},DecodeError:function(){return f},NormalizeError:function(){return m},PageNotFoundError:function(){return g},MissingStaticPage:function(){return v},MiddlewareNotFoundError:function(){return y},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var i=arguments.length,s=Array(i),n=0;n<i;n++)s[n]=arguments[n];return r||(r=!0,t=e(...s)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,n=e=>s.test(e);function a(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=a();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?"),r=t[0];return r.replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&c(r))return i;if(!i){let t='"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.';throw Error(t)}return i}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class v extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},6054:function(){},7021:function(){},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var i,n={},c=null,u=null;for(i in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===n[i]&&(n[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:u,props:n,_owner:o.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},8027:function(e){"use strict";var t={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"==typeof e&&!!e.trim()}function i(e,i){var s,n,a,o,l=e.split(";").filter(r),c=(s=l.shift(),n="",a="",(o=s.split("=")).length>1?(n=o.shift(),a=o.join("=")):a=s,{name:n,value:a}),u=c.name,d=c.value;i=i?Object.assign({},t,i):t;try{d=i.decodeValues?decodeURIComponent(d):d}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+d+"'. Set options.decodeValues to false to disable this feature.",e)}var h={name:u,value:d};return l.forEach(function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),i=t.join("=");"expires"===r?h.expires=new Date(i):"max-age"===r?h.maxAge=parseInt(i,10):"secure"===r?h.secure=!0:"httponly"===r?h.httpOnly=!0:"samesite"===r?h.sameSite=i:h[r]=i}),h}function s(e,s){if(s=s?Object.assign({},t,s):t,!e)return s.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var n=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];n||!e.headers.cookie||s.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}}return(Array.isArray(e)||(e=[e]),(s=s?Object.assign({},t,s):t).map)?e.filter(r).reduce(function(e,t){var r=i(t,s);return e[r.name]=r,e},{}):e.filter(r).map(function(e){return i(e,s)})}e.exports=s,e.exports.parse=s,e.exports.parseString=i,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,r,i,s,n,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),s=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=s,a.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!n||o>=e.length)&&a.push(e.substring(t,e.length))}return a}},1775:function(e,t,r){if("object"==typeof globalThis)i=globalThis;else try{i=r(9472)}catch(e){}finally{if(i||"undefined"==typeof window||(i=window),!i)throw Error("Could not determine global this")}var i,s=i.WebSocket||i.MozWebSocket,n=r(5506);function a(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(a,e,{get:function(){return s[e]}})}),e.exports={w3cwebsocket:s?a:null,version:n}},5506:function(e,t,r){e.exports=r(2151).version},9335:function(e,t,r){"use strict";let i;r.r(t),r.d(t,{BrowserCookieAuthStorageAdapter:function(){return tX},CookieAuthStorageAdapter:function(){return tW},DEFAULT_COOKIE_OPTIONS:function(){return tq},createSupabaseClient:function(){return tK},isBrowser:function(){return tJ},parseCookies:function(){return tY},parseSupabaseCookie:function(){return tH},serializeCookie:function(){return tZ},stringifySupabaseSession:function(){return tV}}),new TextEncoder;let s=new TextDecoder,n=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r};var a,o,l,c,u,d,h,p,f,m,g,v,y,b,w,_,S,T,E,x,k,O=crypto;O.getRandomValues.bind(O),Symbol();let C=e=>{let t=e;t instanceof Uint8Array&&(t=s.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return n(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}},P=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>{var t,i,s,n;return t=void 0,i=void 0,s=void 0,n=function*(){return yield(yield Promise.resolve().then(r.t.bind(r,9366,23))).fetch(...e)},new(s||(s=Promise))(function(e,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(a,o)}l((n=n.apply(t,i||[])).next())})}:fetch),(...e)=>t(...e)};class I extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class j extends I{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A extends I{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class M extends I{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class L{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=P(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r,i,s,n,a;return i=this,s=void 0,n=void 0,a=function*(){try{let i;let{headers:s,method:n,body:a}=t,o={};a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",i=a):"string"==typeof a?(o["Content-Type"]="text/plain",i=a):"undefined"!=typeof FormData&&a instanceof FormData?i=a:(o["Content-Type"]="application/json",i=JSON.stringify(a)));let l=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:i}).catch(e=>{throw new j(e)}),c=l.headers.get("x-relay-error");if(c&&"true"===c)throw new A(l);if(!l.ok)throw new M(l);let u=(null!==(r=l.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return{data:"application/json"===u?yield l.json():"application/octet-stream"===u?yield l.blob():"multipart/form-data"===u?yield l.formData():yield l.text(),error:null}}catch(e){return{data:null,error:e}}},new(n||(n=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof n?i:new n(function(e){e(i)})).then(r,o)}l((a=a.apply(i,s||[])).next())})}}var R=r(9366),$=r.n(R);class N{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=$():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,i;let s=null,n=null,a=null,o=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(n="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let i=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");i&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(n)&&(n.length>1?(s={code:"PGRST116",details:`Results contain ${n.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},n=null,a=null,o=406,l="Not Acceptable"):n=1===n.length?n[0]:null)}else{let t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(n=[],s=null,o=200,l="OK")}catch(r){404===e.status&&""===t?(o=204,l="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(i=null==s?void 0:s.details)||void 0===i?void 0:i.includes("Results contain 0 rows"))&&(s=null,o=200,l="OK"),s&&this.shouldThrowOnError)throw s}let c={error:s,data:n,count:a,status:o,statusText:l};return c});return this.shouldThrowOnError||(i=i.catch(e=>{var t,r,i;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(i=null==e?void 0:e.code)&&void 0!==i?i:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}}class U extends N{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){let s=i?`${i}.order`:"order",n=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${n?`${n},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){let r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){let i=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:n="text"}={}){let a=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${n}; for="${o}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class D extends U{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w");let n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){let r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class z{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){let i=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new D({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new D({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){let n=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&n.push(this.headers.Prefer),i&&n.push(`count=${i}`),s||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new D({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new D({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new D({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}let B={"X-Client-Info":"postgrest-js/1.7.2"};class F{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},B),t),this.schema=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new z(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:i}={}){let s,n;let a=new URL(`${this.url}/rpc/${e}`);r?(s="HEAD",Object.entries(t).forEach(([e,t])=>{a.searchParams.append(e,`${t}`)})):(s="POST",n=t);let o=Object.assign({},this.headers);return i&&(o.Prefer=`count=${i}`),new D({method:s,url:a,headers:o,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}}var G=r(1775);let H={"X-Client-Info":"realtime-js/2.7.3"};(a=v||(v={}))[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed",(o=y||(y={})).closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving",(l=b||(b={})).close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token",(w||(w={})).websocket="websocket",(c=_||(_={})).Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed";class V{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class J{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),s=t.getUint8(2),n=this.HEADER_LENGTH+2,a=r.decode(e.slice(n,n+i));n+=i;let o=r.decode(e.slice(n,n+s));n+=s;let l=JSON.parse(r.decode(e.slice(n,e.byteLength)));return{ref:null,topic:a,event:o,payload:l}}}class q{constructor(e,t,r={},i=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;let e=this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()});"rate limited"===e&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(u=S||(S={})).SYNC="sync",u.JOIN="join",u.LEAVE="leave";class W{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=W.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=W.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=W.syncDiff(this.state,e,t,r),i())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let s=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(s,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{let r=s[e];if(r){let i=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),n=t.filter(e=>0>s.indexOf(e.presence_ref)),l=r.filter(e=>0>i.indexOf(e.presence_ref));n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:o},r,i)}static syncDiff(e,t,r,i){let{joins:s,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(t,i)=>{var s;let n=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(i),n.length>0){let r=e[t].map(e=>e.presence_ref),i=n.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...i)}r(t,n,i)}),this.map(n,(t,r)=>{let s=e[t];if(!s)return;let n=r.map(e=>e.presence_ref);s=s.filter(e=>0>n.indexOf(e.presence_ref)),e[t]=s,i(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(d=T||(T={})).abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange";let X=(e,t,r={})=>{var i;let s=null!==(i=r.skipTypes)&&void 0!==i?i:[];return Object.keys(t).reduce((r,i)=>(r[i]=K(i,e,t,s),r),{})},K=(e,t,r,i)=>{let s=t.find(t=>t.name===e),n=null==s?void 0:s.type,a=r[e];return n&&!i.includes(n)?Y(n,a):Z(a)},Y=(e,t)=>{if("_"===e.charAt(0)){let r=e.slice(1,e.length);return er(t,r)}switch(e){case T.bool:return Q(t);case T.float4:case T.float8:case T.int2:case T.int4:case T.int8:case T.numeric:case T.oid:return ee(t);case T.json:case T.jsonb:return et(t);case T.timestamp:return ei(t);case T.abstime:case T.date:case T.daterange:case T.int4range:case T.int8range:case T.money:case T.reltime:case T.text:case T.time:case T.timestamptz:case T.timetz:case T.tsrange:case T.tstzrange:default:return Z(t)}},Z=e=>e,Q=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ee=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},et=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},er=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,i=e[r],s=e[0];if("{"===s&&"}"===i){let i;let s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch(e){i=s?s.split(","):[]}return i.map(e=>Y(t,e))}return e},ei=e=>"string"==typeof e?e.replace(" ","T"):e;var es=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};(h=E||(E={})).ALL="*",h.INSERT="INSERT",h.UPDATE="UPDATE",h.DELETE="DELETE",(p=x||(x={})).BROADCAST="broadcast",p.PRESENCE="presence",p.POSTGRES_CHANGES="postgres_changes",(f=k||(k={})).SUBSCRIBED="SUBSCRIBED",f.TIMED_OUT="TIMED_OUT",f.CLOSED="CLOSED",f.CHANNEL_ERROR="CHANNEL_ERROR";class en{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=y.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new q(this,b.join,this.params,this.timeout),this.rejoinTimer=new V(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=y.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=y.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=y.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=y.errored,this.rejoinTimer.scheduleTimeout())}),this._on(b.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new W(this)}subscribe(e,t=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:n}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let a={},o={broadcast:s,presence:n,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let i=this.bindings.postgres_changes,s=null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0,n=[];for(let r=0;r<s;r++){let s=i[r],{filter:{event:a,schema:o,table:l,filter:c}}=s,u=t&&t[r];if(u&&u.event===a&&u.schema===o&&u.table===l&&u.filter===c)n.push(Object.assign(Object.assign({},s),{id:u.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=n,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return es(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return es(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var i,s,n;let a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),"broadcast"!==e.type||(null===(n=null===(s=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===s?void 0:s.broadcast)||void 0===n?void 0:n.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=y.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(b.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new q(this,b.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new q(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;let n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=b;if(r&&[a,o,l,c].indexOf(n)>=0&&r!==this._joinRef())return;let u=this._onMessage(n,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(e=>{var t,r,i;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(i=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===i?void 0:i.toLocaleLowerCase())===n}).map(e=>e.callback(u,r)):null===(s=this.bindings[n])||void 0===s||s.filter(e=>{var r,i,s,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(n))return e.type.toLocaleLowerCase()===n;if("id"in e){let n=e.id,a=null===(r=e.filter)||void 0===r?void 0:r.event;return n&&(null===(i=t.ids)||void 0===i?void 0:i.includes(n))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{let r=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:r,commit_timestamp:i,type:s,errors:n}=e;u=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:i,eventType:s,new:{},old:{},errors:n}),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===y.closed}_isJoined(){return this.state===y.joined}_isJoining(){return this.state===y.joining}_isLeaving(){return this.state===y.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var i;return!((null===(i=e.type)||void 0===i?void 0:i.toLocaleLowerCase())===r&&en.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(b.close,{},e)}_onError(e){this._on(b.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=y.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=X(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=X(e.columns,e.old_record)),t}}var ea=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};let eo=()=>{};class el{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=H,this.params={},this.timeout=1e4,this.transport=G.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eo,this.conn=null,this.sendBuffer=[],this.serializer=new J,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${w.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new V(()=>ea(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){!this.conn&&(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return ea(this,void 0,void 0,function*(){let t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return ea(this,void 0,void 0,function*(){let e=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case v.connecting:return _.Connecting;case v.open:return _.Open;case v.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();let r=new en(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:i,ref:s}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};if(this.log("push",`${t} ${r} (${s})`,i),this.isConnected()){if(["broadcast","presence","postgres_changes"].includes(r)){let e=this._throttle(n)();if(e)return"rate limited"}else n()}else this.sendBuffer.push(n)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(b.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:i,ref:s}=e;(s&&s===this.pendingHeartbeatRef||r===(null==i?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${t} ${r} ${s&&"("+s+")"||""}`,i),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,i,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(b.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class ec extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function eu(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ed extends ec{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eh extends ec{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ep=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};let ef=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>ep(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(r.t.bind(r,9366,23))).fetch(...e)}):fetch),(...e)=>t(...e)},em=()=>ep(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.t.bind(r,9366,23))).Response:Response});var eg=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};let ev=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ey=(e,t)=>eg(void 0,void 0,void 0,function*(){let r=yield em();e instanceof r?e.json().then(r=>{t(new ed(ev(r),e.status||500))}).catch(e=>{t(new eh(ev(e),e))}):t(new eh(ev(e),e))}),eb=(e,t,r,i)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};function ew(e,t,r,i,s,n){return eg(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,eb(t,i,s,n)).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>ey(e,o))})})}function e_(e,t,r,i){return eg(this,void 0,void 0,function*(){return ew(e,"GET",t,r,i)})}function eS(e,t,r,i,s){return eg(this,void 0,void 0,function*(){return ew(e,"POST",t,i,s,r)})}function eT(e,t,r,i,s){return eg(this,void 0,void 0,function*(){return ew(e,"DELETE",t,i,s,r)})}var eE=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};let ex={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ek={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eO{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ef(i)}uploadOrUpdate(e,t,r,i){return eE(this,void 0,void 0,function*(){try{let s;let n=Object.assign(Object.assign({},ek),i),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((s=new FormData).append("cacheControl",n.cacheControl),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r).append("cacheControl",n.cacheControl):(s=r,a["cache-control"]=`max-age=${n.cacheControl}`,a["content-type"]=n.contentType);let o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:a},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));if(c.ok)return{data:{path:o},error:null};{let e=yield c.json();return{data:null,error:e}}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}upload(e,t,r){return eE(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return eE(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),n=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${n}`);a.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:ek.upsert},i),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);let o=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:n});if(o.ok)return{data:{path:s},error:null};{let e=yield o.json();return{data:null,error:e}}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e){return eE(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),r=yield eS(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new ec("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}update(e,t,r){return eE(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return eE(this,void 0,void 0,function*(){try{let r=yield eS(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:r,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}copy(e,t){return eE(this,void 0,void 0,function*(){try{let r=yield eS(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:{path:r.Key},error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return eE(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield eS(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"",a=encodeURI(`${this.url}${s.signedURL}${n}`);return{data:s={signedUrl:a},error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return eE(this,void 0,void 0,function*(){try{let i=yield eS(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}download(e,t){return eE(this,void 0,void 0,function*(){let r=void 0!==(null==t?void 0:t.transform),i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=i?`?${i}`:"";try{let t=this._getFinalPath(e),i=yield e_(this.fetch,`${this.url}/${r?"render/image/authenticated":"object"}/${t}${s}`,{headers:this.headers,noResolveJson:!0}),n=yield i.blob();return{data:n,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&i.push(s);let n=void 0!==(null==t?void 0:t.transform),a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&i.push(a);let o=i.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n?"render/image":"object"}/public/${r}${o}`)}}}remove(e){return eE(this,void 0,void 0,function*(){try{let t=yield eT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers});return{data:t,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}list(e,t,r){return eE(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},ex),t),{prefix:e||""}),s=yield eS(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r);return{data:s,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eC={"X-Client-Info":"storage-js/2.5.1"};var eP=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((i=i.apply(e,t||[])).next())})};class eI{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},eC),t),this.fetch=ef(r)}listBuckets(){return eP(this,void 0,void 0,function*(){try{let e=yield e_(this.fetch,`${this.url}/bucket`,{headers:this.headers});return{data:e,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}getBucket(e){return eP(this,void 0,void 0,function*(){try{let t=yield e_(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return eP(this,void 0,void 0,function*(){try{let r=yield eS(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return eP(this,void 0,void 0,function*(){try{let r=yield function(e,t,r,i,s){return eg(this,void 0,void 0,function*(){return ew(e,"PUT",t,i,void 0,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}emptyBucket(e){return eP(this,void 0,void 0,function*(){try{let t=yield eS(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}deleteBucket(e){return eP(this,void 0,void 0,function*(){try{let t=yield eT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(eu(e))return{data:null,error:e};throw e}})}}class ej extends eI{constructor(e,t={},r){super(e,t,r)}from(e){return new eO(this.url,this.headers,e,this.fetch)}}let eA=e=>{let t;return t=e||("undefined"==typeof fetch?$():fetch),(...e)=>t(...e)},eM=()=>"undefined"==typeof Headers?R.Headers:Headers,eL=(e,t,r)=>{let i=eA(r),s=eM();return(r,n)=>{var a,o,l,c;return a=void 0,o=void 0,l=void 0,c=function*(){var a;let o=null!==(a=yield t())&&void 0!==a?a:e,l=new s(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),i(r,Object.assign(Object.assign({},n),{headers:l}))},new(l||(l=Promise))(function(e,t){function r(e){try{s(c.next(e))}catch(e){t(e)}}function i(e){try{s(c.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):((s=t.value)instanceof l?s:new l(function(e){e(s)})).then(r,i)}s((c=c.apply(a,o||[])).next())})}},eR=()=>"undefined"!=typeof document,e$={tested:!1,writable:!1},eN=()=>{if(!eR())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(e$.tested)return e$.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),e$.tested=!0,e$.writable=!0}catch(e){e$.tested=!0,e$.writable=!1}return e$.writable};function eU(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{let e=new URLSearchParams(r.hash.substring(1));e.forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}let eD=e=>{let t;return t=e||("undefined"==typeof fetch?async(...e)=>await (await Promise.resolve().then(r.t.bind(r,9366,23))).fetch(...e):fetch),(...e)=>t(...e)},ez=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,eB=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},eF=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},eG=async(e,t)=>{await e.removeItem(t)};class eH{constructor(){this.promise=new eH.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function eV(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(function(e){let t,r,i,s,n,a,o;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=l.indexOf(e.charAt(u++)),n=l.indexOf(e.charAt(u++)),a=l.indexOf(e.charAt(u++)),o=l.indexOf(e.charAt(u++)),t=s<<2|n>>4,r=(15&n)<<4|a>>2,i=(3&a)<<6|o,c+=String.fromCharCode(t),64!=a&&0!=r&&(c+=String.fromCharCode(r)),64!=o&&0!=i&&(c+=String.fromCharCode(i));return c}(r))}async function eJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eq(e){return("0"+e.toString(16)).substr(-2)}function eW(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let i=0;i<56;i++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,eq).join("")}async function eX(e){let t=new TextEncoder,r=t.encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(e=>String.fromCharCode(e)).join("")}async function eK(e){if("undefined"==typeof crypto)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await eX(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}eH.promiseConstructor=Promise;let eY=/__stack_guard__([a-zA-Z0-9_-]+)__/,eZ=!1,eQ=!1;function e0(e){var t,r;let s;i();try{throw Error()}catch(e){s=e}let n=null!==(r=null===(t=s.stack)||void 0===t?void 0:t.split("\n"))&&void 0!==r?r:[];for(let t=0;t<n.length;t+=1){let r=n[t],i=r.match(eY);if(i&&i[1]===e)return!0}return!1}async function e1(e,t){await i();let r=`__stack_guard__${e}__`,s={[r]:async()=>await t()};return Object.assign(s[r],{displayName:r}),await s[r]()}async function e3(){return eZ||await i(),eQ}let e2=!1;i=async()=>{eZ||(eZ=!0,await e1("ENV_CHECK",async()=>{await eJ(0);let e=e0("ENV_CHECK");return eQ=e,e||e2||(e2=!0,console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces. Safari is known to not support stack guards.")),e}))};class e6 extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function e5(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class e4 extends e6{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class e9 extends e6{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class e8 extends e6{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class e7 extends e8{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class te extends e8{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class tt extends e8{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class tr extends e8{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ti extends e8{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ts extends e8{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function tn(e){return e5(e)&&"AuthRetryableFetchError"===e.name}var ta=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};let to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tl=[502,503,504];async function tc(e){let t;if(!ez(e))throw new ts(to(e),0);if(tl.includes(e.status))throw new ts(to(e),e.status);try{t=await e.json()}catch(e){throw new e9(to(e),e)}throw new e4(to(t),e.status||500)}let tu=(e,t,r,i)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function td(e,t,r,i){var s;let n=Object.assign({},null==i?void 0:i.headers);(null==i?void 0:i.jwt)&&(n.Authorization=`Bearer ${i.jwt}`);let a=null!==(s=null==i?void 0:i.query)&&void 0!==s?s:{};(null==i?void 0:i.redirectTo)&&(a.redirect_to=i.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await th(e,t,r+o,{headers:n,noResolveJson:null==i?void 0:i.noResolveJson},{},null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function th(e,t,r,i,s,n){let a;let o=tu(t,i,s,n);try{a=await e(r,o)}catch(e){throw console.error(e),new ts(to(e),0)}if(a.ok||await tc(a),null==i?void 0:i.noResolveJson)return a;try{return await a.json()}catch(e){await tc(e)}}function tp(e){var t;let r=null;e.access_token&&e.refresh_token&&e.expires_in&&((r=Object.assign({},e)).expires_at=function(e){let t=Math.round(Date.now()/1e3);return t+e}(e.expires_in));let i=null!==(t=e.user)&&void 0!==t?t:e;return{data:{session:r,user:i},error:null}}function tf(e){var t;let r=null!==(t=e.user)&&void 0!==t?t:e;return{data:{user:r},error:null}}function tm(e){return{data:e,error:null}}function tg(e){let{action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:n}=e,a=ta(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o=Object.assign({},a);return{data:{properties:{action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:n},user:o},error:null}}function tv(e){return e}var ty=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class tb{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=eD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await td(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(e5(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await td(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tf})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=ty(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=null==r?void 0:r.newEmail,delete i.newEmail),await td(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tg,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(e5(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await td(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tf})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,i,s,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},c=await td(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(i=null==e?void 0:e.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:tv});if(c.error)throw c.error;let u=await c.json(),d=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,h=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(e5(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await td(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tf})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await td(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tf})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await td(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tf})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:r}=await td(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{let t=await td(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(e5(e))return{data:null,error:e};throw e}}}let tw="2.46.1",t_={"X-Client-Info":`gotrue-js/${tw}`};var tS={getItem:e=>eN()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{eN()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{eN()&&globalThis.localStorage.removeItem(e)}};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let tT={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t_,flowType:"implicit",debug:!1};async function tE(e,t,r){return await r()}class tx{constructor(e){var t;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=tx.nextInstanceID,tx.nextInstanceID+=1,this.instanceID>0&&eR()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},tT),e);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||tS,this.admin=new tb({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=eD(r.fetch),this.lock=r.lock||tE,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===tS&&!eN()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),eR()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} (${tw}) ${new Date().toISOString()}`,...e),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw Error("Double call of #_initialize()");return this.initializePromise=this._acquireLock(-1,async()=>await e1("_initialize",async()=>{try{let e=!!eR()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};let{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(e5(e))return{error:e};return{error:new e9("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}})),await this.initializePromise}async signUp(e){var t,r,i;try{let s;if(await this._removeSession(),"email"in e){let{email:r,password:i,options:n}=e,a=null,o=null;if("pkce"===this.flowType){let e=eW();await eB(this.storage,`${this.storageKey}-code-verifier`,e),a=await eK(e),o=e===a?"plain":"s256"}s=await td(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:i,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:tp})}else if("phone"in e){let{phone:t,password:n,options:a}=e;s=await td(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(i=null==a?void 0:a.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:tp})}else throw new tt("You must provide either an email or phone number and a password");let{data:n,error:a}=s;if(a||!n)return{data:{user:null,session:null},error:a};let o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){let{email:r,password:i,options:s}=e;t=await td(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tp})}else if("phone"in e){let{phone:r,password:i,options:s}=e;t=await td(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tp})}else throw new tt("You must provide either an email or phone number and a password");let{data:r,error:i}=t;if(i)return{data:{user:null,session:null},error:i};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new te};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i}}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,i,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){let t=await eF(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await td(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:tp});return(await eG(this.storage,`${this.storageKey}-code-verifier`),i)?{data:{user:null,session:null},error:i}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i}):{data:{user:null,session:null},error:new te}}async signInWithIdToken(e){await this._removeSession();try{let{options:t,provider:r,token:i,access_token:s,nonce:n}=e,a=await td(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tp}),{data:o,error:l}=a;if(l)return{data:{user:null,session:null},error:l};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new te};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,i,s,n;try{if(await this._removeSession(),"email"in e){let{email:i,options:s}=e,n=null,a=null;if("pkce"===this.flowType){let e=eW();await eB(this.storage,`${this.storageKey}-code-verifier`,e),n=await eK(e),a=e===n?"plain":"s256"}let{error:o}=await td(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null==s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){let{phone:t,options:r}=e,{data:a,error:o}=await td(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(i=null==r?void 0:r.data)&&void 0!==i?i:{},create_user:null===(s=null==r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(n=null==r?void 0:r.channel)&&void 0!==n?n:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new tt("You must provide either an email or phone number.")}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let i,s;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(i=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);let{data:n,error:a}=await td(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tp});if(a)throw a;if(!n)throw Error("An error occurred on token verification.");let o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,i;try{return await this._removeSession(),await td(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:tm})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new e7;let{error:i}=await td(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();let t=`${this.url}/resend`;if("email"in e){let{email:r,type:i,options:s}=e,{error:n}=await td(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){let{phone:r,type:i,options:s}=e,{data:n,error:a}=await td(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a}}throw new tt("You must provide either an email or phone number and a type")}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return this._useSession(async e=>e)}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(!await e3())return this._debug("#_acquireLock","Stack guards not supported, so exclusive locking is not performed as it can lead to deadlocks if the lock is attempted to be recursively acquired (as the recursion cannot be detected)."),await t();if(e0("_acquireLock"))return this._debug("#_acquireLock","recursive call"),await t();return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{return await e1("_acquireLock",async()=>await t())}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey)}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{if(e0("_useSession")){this._debug("#_useSession","recursive call");let t=await this.__loadSession();return await e(t)}return await this._acquireLock(-1,async()=>await e1("_useSession",async()=>{let t=await this.__loadSession();return await e(t)}))}finally{this._debug("#_useSession","end")}}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!e0("_useSession")&&await e3())throw Error("Please use #_useSession()");e0("_initialize")&&this._debug("#__loadSession","#_initialize recursion detected",Error().stack),await this.initializePromise;try{let e=null;if(this.persistSession){let t=await eF(this.storage,this.storageKey);this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else e=this.inMemorySession,this._debug("#getSession()","session from memory",e);if(!e)return{data:{session:null},error:null};let t=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",e.expires_at),!t)return{data:{session:e},error:null};let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){try{if(e)return await td(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tf});return await this._useSession(async e=>{var t,r;let{data:i,error:s}=e;if(s)throw s;return await td(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(t=i.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,xform:tf})})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new e7;let n=i.session,{data:a,error:o}=await td(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:e,jwt:n.access_token,xform:tf});if(o)throw o;return n.user=a.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}})}catch(e){if(e5(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return eV(e)}async setSession(e){try{if(!e.access_token||!e.refresh_token)throw new e7;let t=Date.now()/1e3,r=t,i=!0,s=null,n=eV(e.access_token);if(n.exp&&(i=(r=n.exp)<=t),i){let{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};s=t}else{let{data:i,error:n}=await this.getUser(e.access_token);if(n)throw n;s={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(e5(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:i,error:s}=t;if(s)throw s;e=null!==(r=i.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new e7;let{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(e5(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!eR())throw new tr("No browser detected.");if("implicit"!==this.flowType||this._isImplicitGrantFlow()){if("pkce"==this.flowType&&!e)throw new ti("Not a valid PKCE flow url.")}else throw new tr("Not a valid implicit grant flow url.");let t=eU(window.location.href);if(e){if(!t.code)throw new ti("No code detected.");let{data:e,error:r}=await this.exchangeCodeForSession(t.code);if(r)throw r;let i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new tr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:n,expires_in:a,token_type:o}=t;if(!s||!a||!n||!o)throw new tr("No session defined in URL");let l=Math.round(Date.now()/1e3),c=parseInt(a),{data:u,error:d}=await this.getUser(s);if(d)throw d;let h={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:c,expires_at:l+c,refresh_token:n,token_type:o,user:u.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:t.type},error:null}}catch(e){if(e5(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){let e=eU(window.location.href);return!!(eR()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=eU(window.location.href),t=await eF(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:i,error:s}=t;if(s)return{error:s};let n=null===(r=i.session)||void 0===r?void 0:r.access_token;if(n){let{error:t}=await this.admin.signOut(n,e);if(t&&!(e5(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await eG(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),this._emitInitialSession(t),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{let{data:{session:i},error:s}=t;if(s)throw s;await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(t){await (null===(i=this.stateChangeEmitters.get(e))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;if("pkce"===this.flowType){let e=eW();await eB(this.storage,`${this.storageKey}-code-verifier`,e),r=await eK(e),i=e===r?"plain":"s256"}try{return await td(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{let r=Date.now();return await function(e,t){let r=new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{let i=await e(s);if(!t(s,null,i)){r(i);return}}catch(e){if(!t(s,e)){i(e);return}}})()});return r}(async r=>(await eJ(200*r),this._debug(t,"refreshing attempt",r),await td(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tp})),(e,t,i)=>i&&i.error&&tn(i.error)&&Date.now()+(e+1)*200-r<3e4)}catch(e){if(this._debug(t,"error",e),e5(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),eR()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let r=await eF(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),null!==r&&await this._removeSession();return}let i=Math.round(Date.now()/1e3),s=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)<i+10;if(this._debug(t,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),tn(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new e7;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new eH;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new e7;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let i={session:t.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(e){if(this._debug(i,"error",e),e5(e)){let r={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let i=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){i.push(e)}});if(await Promise.all(s),i.length>0){for(let e=0;e<i.length;e+=1)console.error(i[e]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),eB(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await eG(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&eR()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!eR()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){this._debug(`#_onVisibilityChanged(${e})`,"visibilityState",document.visibilityState),"visible"===document.visibilityState?setTimeout(async()=>{e||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()},0):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),"pkce"===this.flowType){let e=eW();await eB(this.storage,`${this.storageKey}-code-verifier`,e);let t=await eK(e),i=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",i);let s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(s.toString())}if(null==t?void 0:t.queryParams){let e=new URLSearchParams(t.queryParams);r.push(e.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:i,error:s}=t;return s?{data:null,error:s}:await td(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token})})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;let{data:s,error:n}=t;if(n)return{data:null,error:n};let{data:a,error:o}=await td(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:((null===(i=null==a?void 0:a.totp)||void 0===i?void 0:i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _verify(e){try{return await this._useSession(async t=>{var r;let{data:i,error:s}=t;if(s)return{data:null,error:s};let{data:n,error:a}=await td(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:a})})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _challenge(e){try{return await this._useSession(async t=>{var r;let{data:i,error:s}=t;return s?{data:null,error:s}:await td(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token})})}catch(e){if(e5(e))return{data:null,error:e};throw e}}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],i=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async e=>{var t,r;let{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let n=this._decodeJWT(i.access_token),a=null;n.aal&&(a=n.aal);let o=a,l=null!==(r=null===(t=i.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[];l.length>0&&(o="aal2");let c=n.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}})}}tx.nextInstanceID=0,globalThis&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class tk extends tx{constructor(e){super(e)}}let tO={headers:{"X-Client-Info":"supabase-js/2.31.0"}},tC={schema:"public"},tP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tI={};class tj{constructor(e,t,r){var i,s,n,a,o,l,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let d=e.replace(/\/$/,"");this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:tC,realtime:tI,auth:Object.assign(Object.assign({},tP),{storageKey:h}),global:tO},f=function(e,t){let{db:r,auth:i,realtime:s,global:n}=e,{db:a,auth:o,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),n)}}(null!=r?r:{},p);this.storageKey=null!==(s=null===(i=f.auth)||void 0===i?void 0:i.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(n=f.global)||void 0===n?void 0:n.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(o=f.auth)&&void 0!==o?o:{},this.headers,null===(l=f.global)||void 0===l?void 0:l.fetch),this.fetch=eL(t,this._getAccessToken.bind(this),null===(c=f.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},f.realtime)),this.rest=new F(`${d}/rest/v1`,{headers:this.headers,schema:null===(u=f.db)||void 0===u?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new L(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ej(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,r,i,s,n;return r=this,i=void 0,s=void 0,n=function*(){let{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(s||(s=Promise))(function(e,t){function a(e){try{l(n.next(e))}catch(e){t(e)}}function o(e){try{l(n.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(a,o)}l((n=n.apply(r,i||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:n,debug:a},o,l){let c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tk({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:n,debug:a,fetch:l})}_initRealtimeClient(e){return new el(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r):"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tA=(e,t,r)=>new tj(e,t,r);var tM=Object.create,tL=Object.defineProperty,tR=Object.getOwnPropertyDescriptor,t$=Object.getOwnPropertyNames,tN=Object.getPrototypeOf,tU=Object.prototype.hasOwnProperty,tD=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of t$(t))tU.call(e,s)||s===r||tL(e,s,{get:()=>t[s],enumerable:!(i=tR(t,s))||i.enumerable});return e},tz=(e,t,r)=>(r=null!=e?tM(tN(e)):{},tD(!t&&e&&e.__esModule?r:tL(r,"default",{value:e,enumerable:!0}),e)),tB=(m={"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(e){e.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},s=(t||{}).decode||i,n=0;n<e.length;){var a=e.indexOf("=",n);if(-1===a)break;var o=e.indexOf(";",n);if(-1===o)o=e.length;else if(o<a){n=e.lastIndexOf(";",a-1)+1;continue}var l=e.slice(n,a).trim();if(void 0===r[l]){var c=e.slice(a+1,o).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),r[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,s)}n=o+1}return r},e.serialize=function(e,i,n){var a=n||{},o=a.encode||s;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!r.test(e))throw TypeError("argument name is invalid");var l=o(i);if(l&&!r.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(a.domain){if(!r.test(a.domain))throw TypeError("option domain is invalid");c+="; Domain="+a.domain}if(a.path){if(!r.test(a.path))throw TypeError("option path is invalid");c+="; Path="+a.path}if(a.expires){var d=a.expires;if("[object Date]"!==t.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+d.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var t=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function s(e){return encodeURIComponent(e)}}},function(){return g||(0,m[t$(m)[0]])((g={exports:{}}).exports,g),g.exports}),tF=tz(tB()),tG=tz(tB());function tH(e){if(!e)return null;try{let t=JSON.parse(e);if(!t)return null;if("Object"===t.constructor.name)return t;if("Array"!==t.constructor.name)throw Error(`Unexpected format: ${t.constructor.name}`);let[r,i,s]=t[0].split("."),n=C(i),a=new TextDecoder,{exp:o,sub:l,...c}=JSON.parse(a.decode(n));return{expires_at:o,expires_in:o-Math.round(Date.now()/1e3),token_type:"bearer",access_token:t[0],refresh_token:t[1],provider_token:t[2],provider_refresh_token:t[3],user:{id:l,factors:t[4],...c}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function tV(e){var t;return JSON.stringify([e.access_token,e.refresh_token,e.provider_token,e.provider_refresh_token,(null==(t=e.user)?void 0:t.factors)??null])}function tJ(){return"undefined"!=typeof window&&void 0!==window.document}var tq={path:"/",maxAge:31536e6},tW=class{constructor(e){this.cookieOptions={...tq,...e}}getItem(e){let t=this.getCookie(e);return t?e.endsWith("-code-verifier")?t:JSON.stringify(tH(t)):null}setItem(e,t){if(e.endsWith("-code-verifier")){this.setCookie(e,t);return}let r=JSON.parse(t),i=tV(r);this.setCookie(e,i)}removeItem(e){this.deleteCookie(e)}},tX=class extends tW{constructor(e){super(e)}getCookie(e){if(!tJ())return null;let t=(0,tF.parse)(document.cookie);return t[e]}setCookie(e,t){if(!tJ())return null;document.cookie=(0,tF.serialize)(e,t,{...this.cookieOptions,httpOnly:!1})}deleteCookie(e){if(!tJ())return null;document.cookie=(0,tF.serialize)(e,"",{...this.cookieOptions,maxAge:0,httpOnly:!1})}};function tK(e,t,r){var i;let s=tJ();return tA(e,t,{...r,auth:{flowType:"pkce",autoRefreshToken:s,detectSessionInUrl:s,persistSession:!0,storage:r.auth.storage,...(null==(i=r.auth)?void 0:i.storageKey)?{storageKey:r.auth.storageKey}:{}}})}var tY=tG.parse,tZ=tG.serialize;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */},1533:function(e,t,r){"use strict";r.d(t,{pt:function(){return s}});var i=r(9280);function s(e){let t,r,s,n,a,o,l,c,u,{swiper:d,extendParams:h,on:p,emit:f,params:m}=e;d.autoplay={running:!1,paused:!1,timeLeft:0},h({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let g=m&&m.autoplay?m.autoplay.delay:3e3,v=m&&m.autoplay?m.autoplay.delay:3e3,y=new Date().getTime;function b(e){d&&!d.destroyed&&d.wrapperEl&&e.target===d.wrapperEl&&(d.wrapperEl.removeEventListener("transitionend",b),k())}let w=()=>{if(d.destroyed||!d.autoplay.running)return;d.autoplay.paused?n=!0:n&&(v=s,n=!1);let e=d.autoplay.paused?s:y+v-new Date().getTime();d.autoplay.timeLeft=e,f("autoplayTimeLeft",e,e/g),r=requestAnimationFrame(()=>{w()})},_=()=>{let e;if(!(e=d.virtual&&d.params.virtual.enabled?d.slides.filter(e=>e.classList.contains("swiper-slide-active"))[0]:d.slides[d.activeIndex]))return;let t=parseInt(e.getAttribute("data-swiper-autoplay"),10);return t},S=e=>{if(d.destroyed||!d.autoplay.running)return;cancelAnimationFrame(r),w();let i=void 0===e?d.params.autoplay.delay:e;g=d.params.autoplay.delay,v=d.params.autoplay.delay;let n=_();!Number.isNaN(n)&&n>0&&void 0===e&&(i=n,g=n,v=n),s=i;let a=d.params.speed,o=()=>{d&&!d.destroyed&&(d.params.autoplay.reverseDirection?!d.isBeginning||d.params.loop||d.params.rewind?(d.slidePrev(a,!0,!0),f("autoplay")):d.params.autoplay.stopOnLastSlide||(d.slideTo(d.slides.length-1,a,!0,!0),f("autoplay")):!d.isEnd||d.params.loop||d.params.rewind?(d.slideNext(a,!0,!0),f("autoplay")):d.params.autoplay.stopOnLastSlide||(d.slideTo(0,a,!0,!0),f("autoplay")),d.params.cssMode&&(y=new Date().getTime(),requestAnimationFrame(()=>{S()})))};return i>0?(clearTimeout(t),t=setTimeout(()=>{o()},i)):requestAnimationFrame(()=>{o()}),i},T=()=>{d.autoplay.running=!0,S(),f("autoplayStart")},E=()=>{d.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(r),f("autoplayStop")},x=(e,r)=>{if(d.destroyed||!d.autoplay.running)return;clearTimeout(t),e||(u=!0);let i=()=>{f("autoplayPause"),d.params.autoplay.waitForTransition?d.wrapperEl.addEventListener("transitionend",b):k()};if(d.autoplay.paused=!0,r){c&&(s=d.params.autoplay.delay),c=!1,i();return}let n=s||d.params.autoplay.delay;s=n-(new Date().getTime()-y),d.isEnd&&s<0&&!d.params.loop||(s<0&&(s=0),i())},k=()=>{d.isEnd&&s<0&&!d.params.loop||d.destroyed||!d.autoplay.running||(y=new Date().getTime(),u?(u=!1,S(s)):S(),d.autoplay.paused=!1,f("autoplayResume"))},O=()=>{if(d.destroyed||!d.autoplay.running)return;let e=(0,i.g)();"hidden"===e.visibilityState&&(u=!0,x(!0)),"visible"===e.visibilityState&&k()},C=e=>{"mouse"===e.pointerType&&(u=!0,x(!0))},P=e=>{"mouse"===e.pointerType&&d.autoplay.paused&&k()},I=()=>{d.params.autoplay.pauseOnMouseEnter&&(d.el.addEventListener("pointerenter",C),d.el.addEventListener("pointerleave",P))},j=()=>{d.el.removeEventListener("pointerenter",C),d.el.removeEventListener("pointerleave",P)},A=()=>{let e=(0,i.g)();e.addEventListener("visibilitychange",O)},M=()=>{let e=(0,i.g)();e.removeEventListener("visibilitychange",O)};p("init",()=>{d.params.autoplay.enabled&&(I(),A(),y=new Date().getTime(),T())}),p("destroy",()=>{j(),M(),d.autoplay.running&&E()}),p("beforeTransitionStart",(e,t,r)=>{!d.destroyed&&d.autoplay.running&&(r||!d.params.autoplay.disableOnInteraction?x(!0,!0):E())}),p("sliderFirstMove",()=>{if(!d.destroyed&&d.autoplay.running){if(d.params.autoplay.disableOnInteraction){E();return}a=!0,o=!1,u=!1,l=setTimeout(()=>{u=!0,o=!0,x(!0)},200)}}),p("touchEnd",()=>{if(!d.destroyed&&d.autoplay.running&&a){if(clearTimeout(l),clearTimeout(t),d.params.autoplay.disableOnInteraction){o=!1,a=!1;return}o&&d.params.cssMode&&k(),o=!1,a=!1}}),p("slideChange",()=>{!d.destroyed&&d.autoplay.running&&(c=!0)}),Object.assign(d.autoplay,{start:T,stop:E,pause:x,resume:k})}r(1439)},9280:function(e,t,r){"use strict";function i(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function s(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(r=>{void 0===e[r]?e[r]=t[r]:i(t[r])&&i(e[r])&&Object.keys(t[r]).length>0&&s(e[r],t[r])})}r.d(t,{a:function(){return l},g:function(){return a}});let n={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){let e="undefined"!=typeof document?document:{};return s(e,n),e}let o={document:n,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){let e="undefined"!=typeof window?window:{};return s(e,o),e}},1439:function(e,t,r){"use strict";r.d(t,{a:function(){return v},c:function(){return h},d:function(){return a},e:function(){return d},f:function(){return y},g:function(){return g},h:function(){return o},l:function(){return m},m:function(){return f},n:function(){return n},o:function(){return p},p:function(){return u},q:function(){return function e(){let t=Object(arguments.length<=0?void 0:arguments[0]),r=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){let s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&("undefined"!=typeof window&&void 0!==window.HTMLElement?!(s instanceof HTMLElement):!s||1!==s.nodeType&&11!==s.nodeType)){let i=Object.keys(Object(s)).filter(e=>0>r.indexOf(e));for(let r=0,n=i.length;r<n;r+=1){let n=i[r],a=Object.getOwnPropertyDescriptor(s,n);void 0!==a&&a.enumerable&&(l(t[n])&&l(s[n])?s[n].__swiper__?t[n]=s[n]:e(t[n],s[n]):!l(t[n])&&l(s[n])?(t[n]={},s[n].__swiper__?t[n]=s[n]:e(t[n],s[n])):t[n]=s[n])}}}return t}},r:function(){return s},s:function(){return c}});var i=r(9280);function s(e){Object.keys(e).forEach(t=>{try{e[t]=null}catch(e){}try{delete e[t]}catch(e){}})}function n(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function a(){return Date.now()}function o(e,t){let r,s,n;void 0===t&&(t="x");let a=(0,i.a)(),o=function(e){let t;let r=(0,i.a)();return r.getComputedStyle&&(t=r.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((s=o.transform||o.webkitTransform).split(",").length>6&&(s=s.split(", ").map(e=>e.replace(",",".")).join(", ")),n=new a.WebKitCSSMatrix("none"===s?"":s)):r=(n=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(s=a.WebKitCSSMatrix?n.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(s=a.WebKitCSSMatrix?n.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),s||0}function l(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function c(e,t,r){e.style.setProperty(t,r)}function u(e){let t,{swiper:r,targetPosition:s,side:n}=e,a=(0,i.a)(),o=-r.translate,l=null,c=r.params.speed;r.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(r.cssModeFrameID);let u=s>o?"next":"prev",d=(e,t)=>"next"===u&&e>=t||"prev"===u&&e<=t,h=()=>{t=new Date().getTime(),null===l&&(l=t);let e=Math.max(Math.min((t-l)/c,1),0),i=o+(.5-Math.cos(e*Math.PI)/2)*(s-o);if(d(i,s)&&(i=s),r.wrapperEl.scrollTo({[n]:i}),d(i,s)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[n]:i})}),a.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=a.requestAnimationFrame(h)};h()}function d(e,t){return void 0===t&&(t=""),[...e.children].filter(e=>e.matches(t))}function h(e,t){void 0===t&&(t=[]);let r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:[t]),r}function p(e,t){let r=[];for(;e.previousElementSibling;){let i=e.previousElementSibling;t?i.matches(t)&&r.push(i):r.push(i),e=i}return r}function f(e,t){let r=[];for(;e.nextElementSibling;){let i=e.nextElementSibling;t?i.matches(t)&&r.push(i):r.push(i),e=i}return r}function m(e,t){let r=(0,i.a)();return r.getComputedStyle(e,null).getPropertyValue(t)}function g(e){let t,r=e;if(r){for(t=0;null!==(r=r.previousSibling);)1===r.nodeType&&(t+=1);return t}}function v(e,t){let r=[],i=e.parentElement;for(;i;)t?i.matches(t)&&r.push(i):r.push(i),i=i.parentElement;return r}function y(e,t,r){let s=(0,i.a)();return r?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}},8278:function(e,t,r){"use strict";let i,s,n;r.d(t,{tq:function(){return F},o5:function(){return G}});var a=r(2265),o=r(9280),l=r(1439);function c(){return i||(i=function(){let e=(0,o.a)(),t=(0,o.g)();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),i}let u=(e,t)=>{if(!e||e.destroyed||!e.params)return;let r=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(r){let t=r.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}},d=(e,t)=>{if(!e.slides[t])return;let r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},h=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext,r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);let i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){let r=[s-t];r.push(...Array.from({length:t}).map((e,t)=>s+i+t)),e.slides.forEach((t,i)=>{r.includes(t.column)&&d(e,i)});return}let n=s+i-1;if(e.params.rewind||e.params.loop)for(let i=s-t;i<=n+t;i+=1){let t=(i%r+r)%r;(t<s||t>n)&&d(e,t)}else for(let i=Math.max(s-t,0);i<=Math.min(n+t,r-1);i+=1)i!==s&&(i>n||i<s)&&d(e,i)};function p(e){let{swiper:t,runCallbacks:r,direction:i,step:s}=e,{activeIndex:n,previousIndex:a}=t,o=i;if(o||(o=n>a?"next":n<a?"prev":"reset"),t.emit(`transition${s}`),r&&n!==a){if("reset"===o){t.emit(`slideResetTransition${s}`);return}t.emit(`slideChangeTransition${s}`),"next"===o?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`)}}function f(e){let t=(0,o.g)(),r=(0,o.a)(),i=this.touchEventsData;i.evCache.push(e);let{params:s,touches:n,enabled:a}=this;if(!a||!s.simulateTouch&&"mouse"===e.pointerType||this.animating&&s.preventInteractionOnTransition)return;!this.animating&&s.cssMode&&s.loop&&this.loopFix();let c=e;c.originalEvent&&(c=c.originalEvent);let u=c.target;if("wrapper"===s.touchEventsTarget&&!this.wrapperEl.contains(u)||"which"in c&&3===c.which||"button"in c&&c.button>0||i.isTouched&&i.isMoved)return;let d=!!s.noSwipingClass&&""!==s.noSwipingClass,h=e.composedPath?e.composedPath():e.path;d&&c.target&&c.target.shadowRoot&&h&&(u=h[0]);let p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(c.target&&c.target.shadowRoot);if(s.noSwiping&&(f?function(e,t){return void 0===t&&(t=this),function t(r){if(!r||r===(0,o.g)()||r===(0,o.a)())return null;r.assignedSlot&&(r=r.assignedSlot);let i=r.closest(e);return i||r.getRootNode?i||t(r.getRootNode().host):null}(t)}(p,u):u.closest(p))){this.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;n.currentX=c.pageX,n.currentY=c.pageY;let m=n.currentX,g=n.currentY,v=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,y=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(v&&(m<=y||m>=r.innerWidth-y)){if("prevent"!==v)return;e.preventDefault()}Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),n.startX=m,n.startY=g,i.touchStartTime=(0,l.d)(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let b=!0;u.matches(i.focusableElements)&&(b=!1,"SELECT"===u.nodeName&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==u&&t.activeElement.blur();let w=b&&this.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!u.isContentEditable&&c.preventDefault(),s.freeMode&&s.freeMode.enabled&&this.freeMode&&this.animating&&!s.cssMode&&this.freeMode.onTouchStart(),this.emit("touchStart",c)}function m(e){let t;let r=(0,o.g)(),i=this.touchEventsData,{params:s,touches:n,rtlTranslate:a,enabled:c}=this;if(!c||!s.simulateTouch&&"mouse"===e.pointerType)return;let u=e;if(u.originalEvent&&(u=u.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&this.emit("touchMoveOpposite",u);return}let d=i.evCache.findIndex(e=>e.pointerId===u.pointerId);d>=0&&(i.evCache[d]=u);let h=i.evCache.length>1?i.evCache[0]:u,p=h.pageX,f=h.pageY;if(u.preventedByNestedSwiper){n.startX=p,n.startY=f;return}if(!this.allowTouchMove){u.target.matches(i.focusableElements)||(this.allowClick=!1),i.isTouched&&(Object.assign(n,{startX:p,startY:f,prevX:this.touches.currentX,prevY:this.touches.currentY,currentX:p,currentY:f}),i.touchStartTime=(0,l.d)());return}if(s.touchReleaseOnEdges&&!s.loop){if(this.isVertical()){if(f<n.startY&&this.translate<=this.maxTranslate()||f>n.startY&&this.translate>=this.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(p<n.startX&&this.translate<=this.maxTranslate()||p>n.startX&&this.translate>=this.minTranslate())return}if(r.activeElement&&u.target===r.activeElement&&u.target.matches(i.focusableElements)){i.isMoved=!0,this.allowClick=!1;return}if(i.allowTouchCallbacks&&this.emit("touchMove",u),u.targetTouches&&u.targetTouches.length>1)return;n.currentX=p,n.currentY=f;let m=n.currentX-n.startX,g=n.currentY-n.startY;if(this.params.threshold&&Math.sqrt(m**2+g**2)<this.params.threshold)return;if(void 0===i.isScrolling){let e;this.isHorizontal()&&n.currentY===n.startY||this.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:m*m+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,i.isScrolling=this.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(i.isScrolling&&this.emit("touchMoveOpposite",u),void 0===i.startMoving&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(i.startMoving=!0),i.isScrolling||this.zoom&&this.params.zoom&&this.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;this.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let v=this.isHorizontal()?m:g,y=this.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;s.oneWayMovement&&(v=Math.abs(v)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),n.diff=v,v*=s.touchRatio,a&&(v=-v,y=-y);let b=this.touchesDirection;this.swipeDirection=v>0?"prev":"next",this.touchesDirection=y>0?"prev":"next";let w=this.params.loop&&!s.cssMode;if(!i.isMoved){if(w&&this.loopFix({direction:this.swipeDirection}),i.startTranslate=this.getTranslate(),this.setTransition(0),this.animating){let e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});this.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,s.grabCursor&&(!0===this.allowSlideNext||!0===this.allowSlidePrev)&&this.setGrabCursor(!0),this.emit("sliderFirstMove",u)}i.isMoved&&b!==this.touchesDirection&&w&&Math.abs(v)>=1&&(this.loopFix({direction:this.swipeDirection,setTranslate:!0}),t=!0),this.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=v+i.startTranslate;let _=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),v>0?(w&&!t&&i.currentTranslate>(s.centeredSlides?this.minTranslate()-this.size/2:this.minTranslate())&&this.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>this.minTranslate()&&(_=!1,s.resistance&&(i.currentTranslate=this.minTranslate()-1+(-this.minTranslate()+i.startTranslate+v)**S))):v<0&&(w&&!t&&i.currentTranslate<(s.centeredSlides?this.maxTranslate()+this.size/2:this.maxTranslate())&&this.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:this.slides.length-("auto"===s.slidesPerView?this.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<this.maxTranslate()&&(_=!1,s.resistance&&(i.currentTranslate=this.maxTranslate()+1-(this.maxTranslate()-i.startTranslate-v)**S))),_&&(u.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),this.allowSlidePrev||this.allowSlideNext||(i.currentTranslate=i.startTranslate),s.threshold>0){if(Math.abs(v)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,n.diff=this.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{i.currentTranslate=i.startTranslate;return}}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&this.freeMode||s.watchSlidesProgress)&&(this.updateActiveIndex(),this.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&this.freeMode&&this.freeMode.onTouchMove(),this.updateProgress(i.currentTranslate),this.setTranslate(i.currentTranslate))}function g(e){let t;let r=this,i=r.touchEventsData,s=i.evCache.findIndex(t=>t.pointerId===e.pointerId);if(s>=0&&i.evCache.splice(s,1),["pointercancel","pointerout","pointerleave"].includes(e.type)){let t="pointercancel"===e.type&&(r.browser.isSafari||r.browser.isWebView);if(!t)return}let{params:n,touches:a,rtlTranslate:o,slidesGrid:c,enabled:u}=r;if(!u||!n.simulateTouch&&"mouse"===e.pointerType)return;let d=e;if(d.originalEvent&&(d=d.originalEvent),i.allowTouchCallbacks&&r.emit("touchEnd",d),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&n.grabCursor&&r.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}n.grabCursor&&i.isMoved&&i.isTouched&&(!0===r.allowSlideNext||!0===r.allowSlidePrev)&&r.setGrabCursor(!1);let h=(0,l.d)(),p=h-i.touchStartTime;if(r.allowClick){let e=d.path||d.composedPath&&d.composedPath();r.updateClickedSlide(e&&e[0]||d.target),r.emit("tap click",d),p<300&&h-i.lastClickTime<300&&r.emit("doubleTap doubleClick",d)}if(i.lastClickTime=(0,l.d)(),(0,l.n)(()=>{r.destroyed||(r.allowClick=!0)}),!i.isTouched||!i.isMoved||!r.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,t=n.followFinger?o?r.translate:-r.translate:-i.currentTranslate,n.cssMode)return;if(n.freeMode&&n.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:t});return}let f=0,m=r.slidesSizesGrid[0];for(let e=0;e<c.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){let r=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==c[e+r]?t>=c[e]&&t<c[e+r]&&(f=e,m=c[e+r]-c[e]):t>=c[e]&&(f=e,m=c[c.length-1]-c[c.length-2])}let g=null,v=null;n.rewind&&(r.isBeginning?v=n.virtual&&n.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(g=0));let y=(t-c[f])/m,b=f<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(p>n.longSwipesMs){if(!n.longSwipes){r.slideTo(r.activeIndex);return}"next"===r.swipeDirection&&(y>=n.longSwipesRatio?r.slideTo(n.rewind&&r.isEnd?g:f+b):r.slideTo(f)),"prev"===r.swipeDirection&&(y>1-n.longSwipesRatio?r.slideTo(f+b):null!==v&&y<0&&Math.abs(y)>n.longSwipesRatio?r.slideTo(v):r.slideTo(f))}else{if(!n.shortSwipes){r.slideTo(r.activeIndex);return}let e=r.navigation&&(d.target===r.navigation.nextEl||d.target===r.navigation.prevEl);e?d.target===r.navigation.nextEl?r.slideTo(f+b):r.slideTo(f):("next"===r.swipeDirection&&r.slideTo(null!==g?g:f+b),"prev"===r.swipeDirection&&r.slideTo(null!==v?v:f))}}function v(){let e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:s,snapGrid:n}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();let o=a&&t.loop;"auto"!==t.slidesPerView&&!(t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&n!==e.snapGrid&&e.checkOverflow()}function y(e){this.enabled&&!this.allowClick&&(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function b(){let{wrapperEl:e,rtlTranslate:t,enabled:r}=this;if(!r)return;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=-e.scrollLeft:this.translate=-e.scrollTop,0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();let i=this.maxTranslate()-this.minTranslate();(0===i?0:(this.translate-this.minTranslate())/i)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}function w(e){u(this,e.target),!this.params.cssMode&&("auto"===this.params.slidesPerView||this.params.autoHeight)&&this.update()}let _=!1;function S(){}let T=(e,t)=>{let r=(0,o.g)(),{params:i,el:s,wrapperEl:n,device:a}=e,l=!!i.nested,c="on"===t?"addEventListener":"removeEventListener";s[c]("pointerdown",e.onTouchStart,{passive:!1}),r[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),r[c]("pointerup",e.onTouchEnd,{passive:!0}),r[c]("pointercancel",e.onTouchEnd,{passive:!0}),r[c]("pointerout",e.onTouchEnd,{passive:!0}),r[c]("pointerleave",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[c]("click",e.onClick,!0),i.cssMode&&n[c]("scroll",e.onScroll),i.updateOnWindowResize?e[t](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",v,!0):e[t]("observerUpdate",v,!0),s[c]("load",e.onLoad,{capture:!0})},E=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var x={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};let k={eventsEmitter:{on(e,t,r){let i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;let s=r?"unshift":"push";return e.split(" ").forEach(e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)}),i},once(e,t,r){let i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;function s(){i.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(i,n)}return s.__emitterProxy=t,i.on(e,s,r)},onAny(e,t){return!this.eventsListeners||this.destroyed||"function"!=typeof e||0>this.eventsAnyListeners.indexOf(e)&&this.eventsAnyListeners[t?"unshift":"push"](e),this},offAny(e){if(!this.eventsListeners||this.destroyed||!this.eventsAnyListeners)return this;let t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off(e,t){let r=this;return r.eventsListeners&&!r.destroyed&&r.eventsListeners&&e.split(" ").forEach(e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((i,s)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&r.eventsListeners[e].splice(s,1)})}),r},emit(){let e,t,r;let i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];"string"==typeof n[0]||Array.isArray(n[0])?(e=n[0],t=n.slice(1,n.length),r=i):(e=n[0].events,t=n[0].data,r=n[0].context||i),t.unshift(r);let o=Array.isArray(e)?e:e.split(" ");return o.forEach(e=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(i=>{i.apply(r,[e,...t])}),i.eventsListeners&&i.eventsListeners[e]&&i.eventsListeners[e].forEach(e=>{e.apply(r,t)})}),i}},update:{updateSize:function(){let e,t;let r=this.el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:r.clientWidth,t=void 0!==this.params.height&&null!==this.params.height?this.params.height:r.clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt((0,l.l)(r,"padding-left")||0,10)-parseInt((0,l.l)(r,"padding-right")||0,10),t=t-parseInt((0,l.l)(r,"padding-top")||0,10)-parseInt((0,l.l)(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){let e;let t=this;function r(e){return t.isHorizontal()?e:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[e]}function i(e,t){return parseFloat(e.getPropertyValue(r(t))||0)}let s=t.params,{wrapperEl:n,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:u}=t,d=t.virtual&&s.virtual.enabled,h=d?t.virtual.slides.length:t.slides.length,p=(0,l.e)(a,`.${t.params.slideClass}, swiper-slide`),f=d?t.virtual.slides.length:p.length,m=[],g=[],v=[],y=s.slidesOffsetBefore;"function"==typeof y&&(y=s.slidesOffsetBefore.call(t));let b=s.slidesOffsetAfter;"function"==typeof b&&(b=s.slidesOffsetAfter.call(t));let w=t.snapGrid.length,_=t.slidesGrid.length,S=s.spaceBetween,T=-y,E=0,x=0;if(void 0===o)return;"string"==typeof S&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*o:"string"==typeof S&&(S=parseFloat(S)),t.virtualSize=-S,p.forEach(e=>{c?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),s.centeredSlides&&s.cssMode&&((0,l.s)(n,"--swiper-centered-offset-before",""),(0,l.s)(n,"--swiper-centered-offset-after",""));let k=s.grid&&s.grid.rows>1&&t.grid;k&&t.grid.initSlides(f);let O="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let n=0;n<f;n+=1){let a;if(e=0,p[n]&&(a=p[n]),k&&t.grid.updateSlide(n,a,f,r),!p[n]||"none"!==(0,l.l)(a,"display")){if("auto"===s.slidesPerView){O&&(p[n].style[r("width")]="");let o=getComputedStyle(a),c=a.style.transform,u=a.style.webkitTransform;if(c&&(a.style.transform="none"),u&&(a.style.webkitTransform="none"),s.roundLengths)e=t.isHorizontal()?(0,l.f)(a,"width",!0):(0,l.f)(a,"height",!0);else{let t=i(o,"width"),r=i(o,"padding-left"),s=i(o,"padding-right"),n=i(o,"margin-left"),l=i(o,"margin-right"),c=o.getPropertyValue("box-sizing");if(c&&"border-box"===c)e=t+n+l;else{let{clientWidth:i,offsetWidth:o}=a;e=t+r+s+n+l+(o-i)}}c&&(a.style.transform=c),u&&(a.style.webkitTransform=u),s.roundLengths&&(e=Math.floor(e))}else e=(o-(s.slidesPerView-1)*S)/s.slidesPerView,s.roundLengths&&(e=Math.floor(e)),p[n]&&(p[n].style[r("width")]=`${e}px`);p[n]&&(p[n].swiperSlideSize=e),v.push(e),s.centeredSlides?(T=T+e/2+E/2+S,0===E&&0!==n&&(T=T-o/2-S),0===n&&(T=T-o/2-S),.001>Math.abs(T)&&(T=0),s.roundLengths&&(T=Math.floor(T)),x%s.slidesPerGroup==0&&m.push(T),g.push(T)):(s.roundLengths&&(T=Math.floor(T)),(x-Math.min(t.params.slidesPerGroupSkip,x))%t.params.slidesPerGroup==0&&m.push(T),g.push(T),T=T+e+S),t.virtualSize+=e+S,E=e,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+b,c&&u&&("slide"===s.effect||"coverflow"===s.effect)&&(n.style.width=`${t.virtualSize+S}px`),s.setWrapperSize&&(n.style[r("width")]=`${t.virtualSize+S}px`),k&&t.grid.updateWrapperSize(e,m,r),!s.centeredSlides){let e=[];for(let r=0;r<m.length;r+=1){let i=m[r];s.roundLengths&&(i=Math.floor(i)),m[r]<=t.virtualSize-o&&e.push(i)}m=e,Math.floor(t.virtualSize-o)-Math.floor(m[m.length-1])>1&&m.push(t.virtualSize-o)}if(d&&s.loop){let e=v[0]+S;if(s.slidesPerGroup>1){let r=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),i=e*s.slidesPerGroup;for(let e=0;e<r;e+=1)m.push(m[m.length-1]+i)}for(let r=0;r<t.virtual.slidesBefore+t.virtual.slidesAfter;r+=1)1===s.slidesPerGroup&&m.push(m[m.length-1]+e),g.push(g[g.length-1]+e),t.virtualSize+=e}if(0===m.length&&(m=[0]),0!==S){let e=t.isHorizontal()&&c?"marginLeft":r("marginRight");p.filter((e,t)=>!s.cssMode||!!s.loop||t!==p.length-1).forEach(t=>{t.style[e]=`${S}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;v.forEach(t=>{e+=t+(S||0)}),e-=S;let t=e-o;m=m.map(e=>e<=0?-y:e>t?t+b:e)}if(s.centerInsufficientSlides){let e=0;if(v.forEach(t=>{e+=t+(S||0)}),(e-=S)<o){let t=(o-e)/2;m.forEach((e,r)=>{m[r]=e-t}),g.forEach((e,r)=>{g[r]=e+t})}}if(Object.assign(t,{slides:p,snapGrid:m,slidesGrid:g,slidesSizesGrid:v}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){(0,l.s)(n,"--swiper-centered-offset-before",`${-m[0]}px`),(0,l.s)(n,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);let e=-t.snapGrid[0],r=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(e=>e+r)}if(f!==h&&t.emit("slidesLengthChange"),m.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==_&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),!d&&!s.cssMode&&("slide"===s.effect||"fade"===s.effect)){let e=`${s.containerModifierClass}backface-hidden`,r=t.el.classList.contains(e);f<=s.maxBackfaceHiddenSlides?r||t.el.classList.add(e):r&&t.el.classList.remove(e)}},updateAutoHeight:function(e){let t;let r=this,i=[],s=r.virtual&&r.params.virtual.enabled,n=0;"number"==typeof e?r.setTransition(e):!0===e&&r.setTransition(r.params.speed);let a=e=>s?r.slides[r.getSlideIndexByData(e)]:r.slides[e];if("auto"!==r.params.slidesPerView&&r.params.slidesPerView>1){if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(e=>{i.push(e)});else for(t=0;t<Math.ceil(r.params.slidesPerView);t+=1){let e=r.activeIndex+t;if(e>r.slides.length&&!s)break;i.push(a(e))}}else i.push(a(r.activeIndex));for(t=0;t<i.length;t+=1)if(void 0!==i[t]){let e=i[t].offsetHeight;n=e>n?e:n}(n||0===n)&&(r.wrapperEl.style.height=`${n}px`)},updateSlidesOffset:function(){let e=this.slides,t=this.isElement?this.isHorizontal()?this.wrapperEl.offsetLeft:this.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(this.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-this.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);let t=this.params,{slides:r,rtlTranslate:i,snapGrid:s}=this;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&this.updateSlidesOffset();let n=-e;i&&(n=e),r.forEach(e=>{e.classList.remove(t.slideVisibleClass)}),this.visibleSlidesIndexes=[],this.visibleSlides=[];let a=t.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*this.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<r.length;e+=1){let o=r[e],l=o.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(l-=r[0].swiperSlideOffset);let c=(n+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),u=(n-s[0]+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),d=-(n-l),h=d+this.slidesSizesGrid[e],p=d>=0&&d<this.size-1||h>1&&h<=this.size||d<=0&&h>=this.size;p&&(this.visibleSlides.push(o),this.visibleSlidesIndexes.push(e),r[e].classList.add(t.slideVisibleClass)),o.progress=i?-c:c,o.originalProgress=i?-u:u}},updateProgress:function(e){if(void 0===e){let t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}let t=this.params,r=this.maxTranslate()-this.minTranslate(),{progress:i,isBeginning:s,isEnd:n,progressLoop:a}=this,o=s,l=n;if(0===r)i=0,s=!0,n=!0;else{i=(e-this.minTranslate())/r;let t=1>Math.abs(e-this.minTranslate()),a=1>Math.abs(e-this.maxTranslate());s=t||i<=0,n=a||i>=1,t&&(i=0),a&&(i=1)}if(t.loop){let t=this.getSlideIndexByData(0),r=this.getSlideIndexByData(this.slides.length-1),i=this.slidesGrid[t],s=this.slidesGrid[r],n=this.slidesGrid[this.slidesGrid.length-1],o=Math.abs(e);(a=o>=i?(o-i)/n:(o+n-s)/n)>1&&(a-=1)}Object.assign(this,{progress:i,progressLoop:a,isBeginning:s,isEnd:n}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&this.updateSlidesProgress(e),s&&!o&&this.emit("reachBeginning toEdge"),n&&!l&&this.emit("reachEnd toEdge"),(o&&!s||l&&!n)&&this.emit("fromEdge"),this.emit("progress",i)},updateSlidesClasses:function(){let e;let{slides:t,params:r,slidesEl:i,activeIndex:s}=this,n=this.virtual&&r.virtual.enabled,a=e=>(0,l.e)(i,`.${r.slideClass}${e}, swiper-slide${e}`)[0];if(t.forEach(e=>{e.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)}),n){if(r.loop){let t=s-this.virtual.slidesBefore;t<0&&(t=this.virtual.slides.length+t),t>=this.virtual.slides.length&&(t-=this.virtual.slides.length),e=a(`[data-swiper-slide-index="${t}"]`)}else e=a(`[data-swiper-slide-index="${s}"]`)}else e=t[s];if(e){e.classList.add(r.slideActiveClass);let i=(0,l.m)(e,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!i&&(i=t[0]),i&&i.classList.add(r.slideNextClass);let s=(0,l.o)(e,`.${r.slideClass}, swiper-slide`)[0];r.loop,s&&s.classList.add(r.slidePrevClass)}this.emitSlidesClasses()},updateActiveIndex:function(e){let t,r;let i=this,s=i.rtlTranslate?i.translate:-i.translate,{snapGrid:n,params:a,activeIndex:o,realIndex:l,snapIndex:c}=i,u=e,d=e=>{let t=e-i.virtual.slidesBefore;return t<0&&(t=i.virtual.slides.length+t),t>=i.virtual.slides.length&&(t-=i.virtual.slides.length),t};if(void 0===u&&(u=function(e){let t;let{slidesGrid:r,params:i}=e,s=e.rtlTranslate?e.translate:-e.translate;for(let e=0;e<r.length;e+=1)void 0!==r[e+1]?s>=r[e]&&s<r[e+1]-(r[e+1]-r[e])/2?t=e:s>=r[e]&&s<r[e+1]&&(t=e+1):s>=r[e]&&(t=e);return i.normalizeSlideIndex&&(t<0||void 0===t)&&(t=0),t}(i)),n.indexOf(s)>=0)t=n.indexOf(s);else{let e=Math.min(a.slidesPerGroupSkip,u);t=e+Math.floor((u-e)/a.slidesPerGroup)}if(t>=n.length&&(t=n.length-1),u===o){t!==c&&(i.snapIndex=t,i.emit("snapIndexChange")),i.params.loop&&i.virtual&&i.params.virtual.enabled&&(i.realIndex=d(u));return}r=i.virtual&&a.virtual.enabled&&a.loop?d(u):i.slides[u]?parseInt(i.slides[u].getAttribute("data-swiper-slide-index")||u,10):u,Object.assign(i,{previousSnapIndex:c,snapIndex:t,previousRealIndex:l,realIndex:r,previousIndex:o,activeIndex:u}),i.initialized&&h(i),i.emit("activeIndexChange"),i.emit("snapIndexChange"),l!==r&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")},updateClickedSlide:function(e){let t;let r=this.params,i=e.closest(`.${r.slideClass}, swiper-slide`),s=!1;if(i){for(let e=0;e<this.slides.length;e+=1)if(this.slides[e]===i){s=!0,t=e;break}}if(i&&s)this.clickedSlide=i,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):this.clickedIndex=t;else{this.clickedSlide=void 0,this.clickedIndex=void 0;return}r.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");let{params:t,rtlTranslate:r,translate:i,wrapperEl:s}=this;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let n=(0,l.h)(s,e);return n+=this.cssOverflowAdjustment(),r&&(n=-n),n||0},setTranslate:function(e,t){let{rtlTranslate:r,params:i,wrapperEl:s,progress:n}=this,a=0,o=0;this.isHorizontal()?a=r?-e:e:o=e,i.roundLengths&&(a=Math.floor(a),o=Math.floor(o)),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:o,i.cssMode?s[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-o:i.virtualTranslate||(this.isHorizontal()?a-=this.cssOverflowAdjustment():o-=this.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${o}px, 0px)`);let l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==n&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,r,i,s){let n;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),void 0===i&&(i=!0);let a=this,{params:o,wrapperEl:c}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;let u=a.minTranslate(),d=a.maxTranslate();if(n=i&&e>u?u:i&&e<d?d:e,a.updateProgress(n),o.cssMode){let e=a.isHorizontal();if(0===t)c[e?"scrollLeft":"scrollTop"]=-n;else{if(!a.support.smoothScroll)return(0,l.p)({swiper:a,targetPosition:-n,side:e?"left":"top"}),!0;c.scrollTo({[e?"left":"top"]:-n,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(n),r&&(a.emit("beforeTransitionStart",t,s),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(n),r&&(a.emit("beforeTransitionStart",t,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||(this.wrapperEl.style.transitionDuration=`${e}ms`),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);let{params:r}=this;r.cssMode||(r.autoHeight&&this.updateAutoHeight(),p({swiper:this,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);let{params:r}=this;this.animating=!1,r.cssMode||(this.setTransition(0),p({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,r,i,s){let n;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),"string"==typeof e&&(e=parseInt(e,10));let a=this,o=e;o<0&&(o=0);let{params:c,snapGrid:u,slidesGrid:d,previousIndex:h,activeIndex:p,rtlTranslate:f,wrapperEl:m,enabled:g}=a;if(a.animating&&c.preventInteractionOnTransition||!g&&!i&&!s)return!1;let v=Math.min(a.params.slidesPerGroupSkip,o),y=v+Math.floor((o-v)/a.params.slidesPerGroup);y>=u.length&&(y=u.length-1);let b=-u[y];if(c.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){let t=-Math.floor(100*b),r=Math.floor(100*d[e]),i=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=r&&t<i-(i-r)/2?o=e:t>=r&&t<i&&(o=e+1):t>=r&&(o=e)}if(a.initialized&&o!==p&&(!a.allowSlideNext&&(f?b>a.translate&&b>a.minTranslate():b<a.translate&&b<a.minTranslate())||!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(p||0)!==o))return!1;if(o!==(h||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(b),n=o>p?"next":o<p?"prev":"reset",f&&-b===a.translate||!f&&b===a.translate)return a.updateActiveIndex(o),c.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==c.effect&&a.setTranslate(b),"reset"!==n&&(a.transitionStart(r,n),a.transitionEnd(r,n)),!1;if(c.cssMode){let e=a.isHorizontal(),r=f?b:-b;if(0===t){let t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[e?"scrollLeft":"scrollTop"]=r})):m[e?"scrollLeft":"scrollTop"]=r,t&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return(0,l.p)({swiper:a,targetPosition:r,side:e?"left":"top"}),!0;m.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(b),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,i),a.transitionStart(r,n),0===t?a.transitionEnd(r,n):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,n))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),"string"==typeof e){let t=parseInt(e,10);e=t}let s=e;return this.params.loop&&(this.virtual&&this.params.virtual.enabled?s+=this.virtual.slidesBefore:s=this.getSlideIndexByData(s)),this.slideTo(s,t,r,i)},slideNext:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);let{enabled:i,params:s,animating:n}=this;if(!i)return this;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(this.slidesPerViewDynamic("current",!0),1));let o=this.activeIndex<s.slidesPerGroupSkip?1:a,l=this.virtual&&s.virtual.enabled;if(s.loop){if(n&&!l&&s.loopPreventsSliding)return!1;this.loopFix({direction:"next"}),this._clientLeft=this.wrapperEl.clientLeft}return s.rewind&&this.isEnd?this.slideTo(0,e,t,r):this.slideTo(this.activeIndex+o,e,t,r)},slidePrev:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);let{params:i,snapGrid:s,slidesGrid:n,rtlTranslate:a,enabled:o,animating:l}=this;if(!o)return this;let c=this.virtual&&i.virtual.enabled;if(i.loop){if(l&&!c&&i.loopPreventsSliding)return!1;this.loopFix({direction:"prev"}),this._clientLeft=this.wrapperEl.clientLeft}let u=a?this.translate:-this.translate;function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}let h=d(u),p=s.map(e=>d(e)),f=s[p.indexOf(h)-1];if(void 0===f&&i.cssMode){let e;s.forEach((t,r)=>{h>=t&&(e=r)}),void 0!==e&&(f=s[e>0?e-1:e])}let m=0;if(void 0!==f&&((m=n.indexOf(f))<0&&(m=this.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=Math.max(m=m-this.slidesPerViewDynamic("previous",!0)+1,0))),i.rewind&&this.isBeginning){let i=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.virtual.slides.length-1:this.slides.length-1;return this.slideTo(i,e,t,r)}return this.slideTo(m,e,t,r)},slideReset:function(e,t,r){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,r)},slideToClosest:function(e,t,r,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);let s=this.activeIndex,n=Math.min(this.params.slidesPerGroupSkip,s),a=n+Math.floor((s-n)/this.params.slidesPerGroup),o=this.rtlTranslate?this.translate:-this.translate;if(o>=this.snapGrid[a]){let e=this.snapGrid[a],t=this.snapGrid[a+1];o-e>(t-e)*i&&(s+=this.params.slidesPerGroup)}else{let e=this.snapGrid[a-1],t=this.snapGrid[a];o-e<=(t-e)*i&&(s-=this.params.slidesPerGroup)}return s=Math.min(s=Math.max(s,0),this.slidesGrid.length-1),this.slideTo(s,e,t,r)},slideToClickedSlide:function(){let e;let t=this,{params:r,slidesEl:i}=t,s="auto"===r.slidesPerView?t.slidesPerViewDynamic():r.slidesPerView,n=t.clickedIndex,a=t.isElement?"swiper-slide":`.${r.slideClass}`;if(r.loop){if(t.animating)return;e=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?n<t.loopedSlides-s/2||n>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),n=t.getSlideIndex((0,l.e)(i,`${a}[data-swiper-slide-index="${e}"]`)[0]),(0,l.n)(()=>{t.slideTo(n)})):t.slideTo(n):n>t.slides.length-s?(t.loopFix(),n=t.getSlideIndex((0,l.e)(i,`${a}[data-swiper-slide-index="${e}"]`)[0]),(0,l.n)(()=>{t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}},loop:{loopCreate:function(e){let{params:t,slidesEl:r}=this;if(!t.loop||this.virtual&&this.params.virtual.enabled)return;let i=(0,l.e)(r,`.${t.slideClass}, swiper-slide`);i.forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}),this.loopFix({slideRealIndex:e,direction:t.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:r=!0,direction:i,setTranslate:s,activeSlideIndex:n,byController:a,byMousewheel:o}=void 0===e?{}:e,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){r&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let f="auto"===p.slidesPerView?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10)),m=p.loopedSlides||f;m%p.slidesPerGroup!=0&&(m+=p.slidesPerGroup-m%p.slidesPerGroup),l.loopedSlides=m;let g=[],v=[],y=l.activeIndex;void 0===n?n=l.getSlideIndex(l.slides.filter(e=>e.classList.contains(p.slideActiveClass))[0]):y=n;let b="next"===i||!i,w="prev"===i||!i,_=0,S=0;if(n<m){_=Math.max(m-n,p.slidesPerGroup);for(let e=0;e<m-n;e+=1){let t=e-Math.floor(e/c.length)*c.length;g.push(c.length-t-1)}}else if(n>l.slides.length-2*m){S=Math.max(n-(l.slides.length-2*m),p.slidesPerGroup);for(let e=0;e<S;e+=1){let t=e-Math.floor(e/c.length)*c.length;v.push(t)}}if(w&&g.forEach(e=>{l.slides[e].swiperLoopMoveDOM=!0,h.prepend(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1}),b&&v.forEach(e=>{l.slides[e].swiperLoopMoveDOM=!0,h.append(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===p.slidesPerView&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),r){if(g.length>0&&w){if(void 0===t){let e=l.slidesGrid[y],t=l.slidesGrid[y+_],r=t-e;o?l.setTranslate(l.translate-r):(l.slideTo(y+_,0,!1,!0),s&&(l.touches[l.isHorizontal()?"startX":"startY"]+=r,l.touchEventsData.currentTranslate=l.translate))}else s&&(l.slideToLoop(t,0,!1,!0),l.touchEventsData.currentTranslate=l.translate)}else if(v.length>0&&b){if(void 0===t){let e=l.slidesGrid[y],t=l.slidesGrid[y-S],r=t-e;o?l.setTranslate(l.translate-r):(l.slideTo(y-S,0,!1,!0),s&&(l.touches[l.isHorizontal()?"startX":"startY"]+=r,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(t,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){let e={slideRealIndex:t,slideTo:!1,direction:i,setTranslate:s,activeSlideIndex:n,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix(e)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(e)}l.emit("loopFix")},loopDestroy:function(){let{params:e,slidesEl:t}=this;if(!e.loop||this.virtual&&this.params.virtual.enabled)return;this.recalcSlides();let r=[];this.slides.forEach(e=>{let t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e}),this.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),r.forEach(e=>{t.append(e)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}},grabCursor:{setGrabCursor:function(e){let t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;let r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){let e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){let e=(0,o.g)(),{params:t}=this;this.onTouchStart=f.bind(this),this.onTouchMove=m.bind(this),this.onTouchEnd=g.bind(this),t.cssMode&&(this.onScroll=b.bind(this)),this.onClick=y.bind(this),this.onLoad=w.bind(this),_||(e.addEventListener("touchstart",S),_=!0),T(this,"on")},detachEvents:function(){T(this,"off")}},breakpoints:{setBreakpoint:function(){let e=this,{realIndex:t,initialized:r,params:i,el:s}=e,n=i.breakpoints;if(!n||n&&0===Object.keys(n).length)return;let a=e.getBreakpoint(n,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;let o=a in n?n[a]:void 0,c=o||e.originalParams,u=E(e,i),d=E(e,c),h=i.enabled;u&&!d?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&d&&(s.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===i.grid.fill)&&s.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===c[t])return;let r=i[t]&&i[t].enabled,s=c[t]&&c[t].enabled;r&&!s&&e[t].disable(),!r&&s&&e[t].enable()});let p=c.direction&&c.direction!==i.direction,f=i.loop&&(c.slidesPerView!==i.slidesPerView||p);p&&r&&e.changeDirection(),(0,l.q)(e.params,c);let m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!m?e.disable():!h&&m&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),f&&r&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",c)},getBreakpoint:function(e,t,r){if(void 0===t&&(t="window"),!e||"container"===t&&!r)return;let i=!1,s=(0,o.a)(),n="window"===t?s.innerHeight:r.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){let t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let e=0;e<a.length;e+=1){let{point:n,value:o}=a[e];"window"===t?s.matchMedia(`(min-width: ${o}px)`).matches&&(i=n):o<=r.clientWidth&&(i=n)}return i||"max"}},checkOverflow:{checkOverflow:function(){let{isLocked:e,params:t}=this,{slidesOffsetBefore:r}=t;if(r){let e=this.slides.length-1,t=this.slidesGrid[e]+this.slidesSizesGrid[e]+2*r;this.isLocked=this.size>t}else this.isLocked=1===this.snapGrid.length;!0===t.allowSlideNext&&(this.allowSlideNext=!this.isLocked),!0===t.allowSlidePrev&&(this.allowSlidePrev=!this.isLocked),e&&e!==this.isLocked&&(this.isEnd=!1),e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock")}},classes:{addClasses:function(){let{classNames:e,params:t,rtl:r,el:i,device:s}=this,n=function(e,t){let r=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(i=>{e[i]&&r.push(t+i)}):"string"==typeof e&&r.push(t+e)}),r}(["initialized",t.direction,{"free-mode":this.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...n),i.classList.add(...e),this.emitContainerClasses()},removeClasses:function(){let{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},O={};class C{constructor(){let e,t;for(var r,i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?t=a[0]:[e,t]=a,t||(t={}),t=(0,l.q)({},t),e&&!t.el&&(t.el=e);let d=(0,o.g)();if(t.el&&"string"==typeof t.el&&d.querySelectorAll(t.el).length>1){let e=[];return d.querySelectorAll(t.el).forEach(r=>{let i=(0,l.q)({},t,{el:r});e.push(new C(i))}),e}let h=this;h.__swiper__=!0,h.support=c(),h.device=(r={userAgent:t.userAgent},s||(s=function(e){let{userAgent:t}=void 0===e?{}:e,r=c(),i=(0,o.a)(),s=i.navigator.platform,n=t||i.navigator.userAgent,a={ios:!1,android:!1},l=i.screen.width,u=i.screen.height,d=n.match(/(Android);?[\s\/]+([\d.]+)?/),h=n.match(/(iPad).*OS\s([\d_]+)/),p=n.match(/(iPod)(.*OS\s([\d_]+))?/),f=!h&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="MacIntel"===s;return!h&&m&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${u}`)>=0&&((h=n.match(/(Version)\/([\d.]+)/))||(h=[0,1,"13_0_0"]),m=!1),d&&"Win32"!==s&&(a.os="android",a.android=!0),(h||f||p)&&(a.os="ios",a.ios=!0),a}(r)),s),h.browser=(n||(n=function(){let e=(0,o.a)(),t=!1;function r(){let t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&0>t.indexOf("chrome")&&0>t.indexOf("android")}if(r()){let r=String(e.navigator.userAgent);if(r.includes("Version/")){let[e,i]=r.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));t=e<16||16===e&&i<2}}return{isSafari:t||r(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),n),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);let p={};h.modules.forEach(e=>{var r;e({params:t,swiper:h,extendParams:(r=t,function(e){void 0===e&&(e={});let t=Object.keys(e)[0],i=e[t];if("object"!=typeof i||null===i||(["navigation","pagination","scrollbar"].indexOf(t)>=0&&!0===r[t]&&(r[t]={auto:!0}),!(t in r&&"enabled"in i))){(0,l.q)(p,e);return}!0===r[t]&&(r[t]={enabled:!0}),"object"!=typeof r[t]||"enabled"in r[t]||(r[t].enabled=!0),r[t]||(r[t]={enabled:!1}),(0,l.q)(p,e)}),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});let f=(0,l.q)({},x,p);return h.params=(0,l.q)({},f,O,t),h.originalParams=(0,l.q)({},h.params),h.passedParams=(0,l.q)({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(e=>{h.on(e,h.params.on[e])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===h.params.direction,isVertical:()=>"vertical"===h.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return 8388608*Math.trunc(this.translate/8388608)},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getSlideIndex(e){let{slidesEl:t,params:r}=this,i=(0,l.e)(t,`.${r.slideClass}, swiper-slide`),s=(0,l.g)(i[0]);return(0,l.g)(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>1*t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){let{slidesEl:e,params:t}=this;this.slides=(0,l.e)(e,`.${t.slideClass}, swiper-slide`)}enable(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}disable(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}setProgress(e,t){e=Math.min(Math.max(e,0),1);let r=this.minTranslate(),i=this.maxTranslate(),s=(i-r)*e+r;this.translateTo(s,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(r=>{let i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);let{params:r,slides:i,slidesGrid:s,slidesSizesGrid:n,size:a,activeIndex:o}=this,l=1;if(r.centeredSlides){let e,t=i[o]?i[o].swiperSlideSize:0;for(let r=o+1;r<i.length;r+=1)i[r]&&!e&&(t+=i[r].swiperSlideSize,l+=1,t>a&&(e=!0));for(let r=o-1;r>=0;r-=1)i[r]&&!e&&(t+=i[r].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let e=o+1;e<i.length;e+=1){let r=t?s[e]+n[e]-s[o]<a:s[e]-s[o]<a;r&&(l+=1)}else for(let e=o-1;e>=0;e-=1){let t=s[o]-s[e]<a;t&&(l+=1)}return l}update(){let e;let t=this;if(!t||t.destroyed)return;let{snapGrid:r,params:i}=t;function s(){let e=t.rtlTranslate?-1*t.translate:t.translate,r=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(r),t.updateActiveIndex(),t.updateSlidesClasses()}if(i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete&&u(t,e)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&t.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){let r=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;e=t.slideTo(r.length-1,0,!1,!0)}else e=t.slideTo(t.activeIndex,0,!1,!0);e||s()}i.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);let r=this.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(this.el.classList.remove(`${this.params.containerModifierClass}${r}`),this.el.classList.add(`${this.params.containerModifierClass}${e}`),this.emitContainerClasses(),this.params.direction=e,this.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),this.emit("changeDirection"),t&&this.update()),this}changeLanguageDirection(e){(!this.rtl||"rtl"!==e)&&(this.rtl||"ltr"!==e)&&(this.rtl="rtl"===e,this.rtlTranslate="horizontal"===this.params.direction&&this.rtl,this.rtl?(this.el.classList.add(`${this.params.containerModifierClass}rtl`),this.el.dir="rtl"):(this.el.classList.remove(`${this.params.containerModifierClass}rtl`),this.el.dir="ltr"),this.update())}mount(e){let t=this;if(t.mounted)return!0;let r=e||t.params.el;if("string"==typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&"SWIPER-CONTAINER"===r.parentNode.host.nodeName&&(t.isElement=!0);let i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,s=(()=>{if(r&&r.shadowRoot&&r.shadowRoot.querySelector){let e=r.shadowRoot.querySelector(i());return e}return(0,l.e)(r,i())[0]})();return!s&&t.params.createElements&&(s=(0,l.c)("div",t.params.wrapperClass),r.append(s),(0,l.e)(r,`.${t.params.slideClass}`).forEach(e=>{s.append(e)})),Object.assign(t,{el:r,wrapperEl:s,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===(0,l.l)(r,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===(0,l.l)(r,"direction")),wrongRTL:"-webkit-box"===(0,l.l)(s,"display")}),!0}init(e){let t=this;if(t.initialized)return t;let r=t.mount(e);return!1===r||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete?u(t,e):e.addEventListener("load",e=>{u(t,e.target)})}),h(t),t.initialized=!0,h(t),t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);let r=this,{params:i,el:s,wrapperEl:n,slides:a}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s.removeAttribute("style"),n.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(e=>{r.off(e)}),!1!==e&&(r.el.swiper=null,(0,l.r)(r)),r.destroyed=!0),null}static extendDefaults(e){(0,l.q)(O,e)}static get extendedDefaults(){return O}static get defaults(){return x}static installModule(e){C.prototype.__modules__||(C.prototype.__modules__=[]);let t=C.prototype.__modules__;"function"==typeof e&&0>t.indexOf(e)&&t.push(e)}static use(e){return Array.isArray(e)?e.forEach(e=>C.installModule(e)):C.installModule(e),C}}Object.keys(k).forEach(e=>{Object.keys(k[e]).forEach(t=>{C.prototype[t]=k[e][t]})}),C.use([function(e){let{swiper:t,on:r,emit:i}=e,s=(0,o.a)(),n=null,a=null,l=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},c=()=>{t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver(e=>{a=s.requestAnimationFrame(()=>{let{width:r,height:i}=t,s=r,n=i;e.forEach(e=>{let{contentBoxSize:r,contentRect:i,target:a}=e;a&&a!==t.el||(s=i?i.width:(r[0]||r).inlineSize,n=i?i.height:(r[0]||r).blockSize)}),(s!==r||n!==i)&&l()})})).observe(t.el)},u=()=>{a&&s.cancelAnimationFrame(a),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null)},d=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&void 0!==s.ResizeObserver){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),r("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})},function(e){let{swiper:t,extendParams:r,on:i,emit:s}=e,n=[],a=(0,o.a)(),c=function(e,r){void 0===r&&(r={});let i=a.MutationObserver||a.WebkitMutationObserver,o=new i(e=>{if(t.__preventObserver__)return;if(1===e.length){s("observerUpdate",e[0]);return}let r=function(){s("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(r):a.setTimeout(r,0)});o.observe(e,{attributes:void 0===r.attributes||r.attributes,childList:void 0===r.childList||r.childList,characterData:void 0===r.characterData||r.characterData}),n.push(o)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){let e=(0,l.a)(t.hostEl);for(let t=0;t<e.length;t+=1)c(e[t])}c(t.hostEl,{childList:t.params.observeSlideChildren}),c(t.wrapperEl,{attributes:!1})}}),i("destroy",()=>{n.forEach(e=>{e.disconnect()}),n.splice(0,n.length)})}]);let P=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function I(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function j(e,t){let r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>0>r.indexOf(e)).forEach(r=>{void 0===e[r]?e[r]=t[r]:I(t[r])&&I(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:j(e[r],t[r]):e[r]=t[r]})}function A(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function M(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function L(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function R(e){void 0===e&&(e="");let t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),r=[];return t.forEach(e=>{0>r.indexOf(e)&&r.push(e)}),r.join(" ")}let $=e=>{e&&!e.destroyed&&e.params.virtual&&(!e.params.virtual||e.params.virtual.enabled)&&(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function U(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function D(e,t){return"undefined"==typeof window?(0,a.useEffect)(e,t):(0,a.useLayoutEffect)(e,t)}let z=(0,a.createContext)(null),B=(0,a.createContext)(null),F=(0,a.forwardRef)(function(e,t){var r;let{className:i,tag:s="div",wrapperTag:n="div",children:o,onSwiper:l,...c}=void 0===e?{}:e,u=!1,[d,h]=(0,a.useState)("swiper"),[p,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),v=(0,a.useRef)(!1),y=(0,a.useRef)(null),b=(0,a.useRef)(null),w=(0,a.useRef)(null),_=(0,a.useRef)(null),S=(0,a.useRef)(null),T=(0,a.useRef)(null),E=(0,a.useRef)(null),k=(0,a.useRef)(null),{params:O,passedParams:z,rest:F,events:G}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);let r={on:{}},i={},s={};j(r,x),r._emitClasses=!0,r.init=!1;let n={},a=P.map(e=>e.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(o=>{void 0!==e[o]&&(a.indexOf(o)>=0?I(e[o])?(r[o]={},s[o]={},j(r[o],e[o]),j(s[o],e[o])):(r[o]=e[o],s[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t?i[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:r.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:n[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===r[e]&&(r[e]={}),!1===r[e]&&delete r[e]}),{params:r,passedParams:s,rest:n,events:i}}(c),{slides:H,slots:V}=function(e){let t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return a.Children.toArray(e).forEach(e=>{if(U(e))t.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){let i=function e(t){let r=[];return a.Children.toArray(t).forEach(t=>{U(t)?r.push(t):t.props&&t.props.children&&e(t.props.children).forEach(e=>r.push(e))}),r}(e.props.children);i.length>0?i.forEach(e=>t.push(e)):r["container-end"].push(e)}else r["container-end"].push(e)}),{slides:t,slots:r}}(o),J=()=>{g(!m)};Object.assign(O.on,{_containerClasses(e,t){h(t)}});let q=()=>{Object.assign(O.on,G),u=!0;let e={...O};if(delete e.wrapperClass,b.current=new C(e),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=H;let e={cache:!1,slides:H,renderExternal:f,renderExternalUpdate:!1};j(b.current.params.virtual,e),j(b.current.originalParams.virtual,e)}};y.current||q(),b.current&&b.current.on("_beforeBreakpoint",J);let W=()=>{!u&&G&&b.current&&Object.keys(G).forEach(e=>{b.current.on(e,G[e])})},X=()=>{G&&b.current&&Object.keys(G).forEach(e=>{b.current.off(e,G[e])})};return(0,a.useEffect)(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",J)}),(0,a.useEffect)(()=>{!v.current&&b.current&&(b.current.emitSlidesClasses(),v.current=!0)}),D(()=>{if(t&&(t.current=y.current),y.current)return b.current.destroyed&&q(),function(e,t){let{el:r,nextEl:i,prevEl:s,paginationEl:n,scrollbarEl:a,swiper:o}=e;A(t)&&i&&s&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=s,o.originalParams.navigation.prevEl=s),M(t)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),L(t)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(r)}({el:y.current,nextEl:S.current,prevEl:T.current,paginationEl:E.current,scrollbarEl:k.current,swiper:b.current},O),l&&l(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),D(()=>{W();let e=function(e,t,r,i,s){let n=[];if(!t)return n;let a=e=>{0>n.indexOf(e)&&n.push(e)};if(r&&i){let e=i.map(s),t=r.map(s);e.join("")!==t.join("")&&a("children"),i.length!==r.length&&a("children")}let o=P.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,""));return o.forEach(r=>{if(r in e&&r in t){if(I(e[r])&&I(t[r])){let i=Object.keys(e[r]),s=Object.keys(t[r]);i.length!==s.length?a(r):(i.forEach(i=>{e[r][i]!==t[r][i]&&a(r)}),s.forEach(i=>{e[r][i]!==t[r][i]&&a(r)}))}else e[r]!==t[r]&&a(r)}}),n}(z,w.current,H,_.current,e=>e.key);return w.current=z,_.current=H,e.length&&b.current&&!b.current.destroyed&&function(e){let t,r,i,s,n,a,o,l,{swiper:c,slides:u,passedParams:d,changedParams:h,nextEl:p,prevEl:f,scrollbarEl:m,paginationEl:g}=e,v=h.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:y,pagination:b,navigation:w,scrollbar:_,virtual:S,thumbs:T}=c;h.includes("thumbs")&&d.thumbs&&d.thumbs.swiper&&y.thumbs&&!y.thumbs.swiper&&(t=!0),h.includes("controller")&&d.controller&&d.controller.control&&y.controller&&!y.controller.control&&(r=!0),h.includes("pagination")&&d.pagination&&(d.pagination.el||g)&&(y.pagination||!1===y.pagination)&&b&&!b.el&&(i=!0),h.includes("scrollbar")&&d.scrollbar&&(d.scrollbar.el||m)&&(y.scrollbar||!1===y.scrollbar)&&_&&!_.el&&(s=!0),h.includes("navigation")&&d.navigation&&(d.navigation.prevEl||f)&&(d.navigation.nextEl||p)&&(y.navigation||!1===y.navigation)&&w&&!w.prevEl&&!w.nextEl&&(n=!0);let E=e=>{c[e]&&(c[e].destroy(),"navigation"===e?(c.isElement&&(c[e].prevEl.remove(),c[e].nextEl.remove()),y[e].prevEl=void 0,y[e].nextEl=void 0,c[e].prevEl=void 0,c[e].nextEl=void 0):(c.isElement&&c[e].el.remove(),y[e].el=void 0,c[e].el=void 0))};if(h.includes("loop")&&c.isElement&&(y.loop&&!d.loop?a=!0:!y.loop&&d.loop?o=!0:l=!0),v.forEach(e=>{if(I(y[e])&&I(d[e]))j(y[e],d[e]),("navigation"===e||"pagination"===e||"scrollbar"===e)&&"enabled"in d[e]&&!d[e].enabled&&E(e);else{let t=d[e];(!0===t||!1===t)&&("navigation"===e||"pagination"===e||"scrollbar"===e)?!1===t&&E(e):y[e]=d[e]}}),v.includes("controller")&&!r&&c.controller&&c.controller.control&&y.controller&&y.controller.control&&(c.controller.control=y.controller.control),h.includes("children")&&u&&S&&y.virtual.enabled&&(S.slides=u,S.update(!0)),h.includes("children")&&u&&y.loop&&(l=!0),t){let e=T.init();e&&T.update(!0)}r&&(c.controller.control=y.controller.control),i&&(c.isElement&&(!g||"string"==typeof g)&&((g=document.createElement("div")).classList.add("swiper-pagination"),c.el.appendChild(g)),g&&(y.pagination.el=g),b.init(),b.render(),b.update()),s&&(c.isElement&&(!m||"string"==typeof m)&&((m=document.createElement("div")).classList.add("swiper-scrollbar"),c.el.appendChild(m)),m&&(y.scrollbar.el=m),_.init(),_.updateSize(),_.setTranslate()),n&&(c.isElement&&(p&&"string"!=typeof p||((p=document.createElement("div")).classList.add("swiper-button-next"),p.innerHTML=c.hostEl.nextButtonSvg,c.el.appendChild(p)),f&&"string"!=typeof f||((f=document.createElement("div")).classList.add("swiper-button-prev"),p.innerHTML=c.hostEl.prevButtonSvg,c.el.appendChild(f))),p&&(y.navigation.nextEl=p),f&&(y.navigation.prevEl=f),w.init(),w.update()),h.includes("allowSlideNext")&&(c.allowSlideNext=d.allowSlideNext),h.includes("allowSlidePrev")&&(c.allowSlidePrev=d.allowSlidePrev),h.includes("direction")&&c.changeDirection(d.direction,!1),(a||l)&&c.loopDestroy(),(o||l)&&c.loopCreate(),c.update()}({swiper:b.current,slides:H,passedParams:z,changedParams:e,nextEl:S.current,prevEl:T.current,scrollbarEl:k.current,paginationEl:E.current}),()=>{X()}}),D(()=>{$(b.current)},[p]),a.createElement(s,N({ref:y,className:R(`${d}${i?` ${i}`:""}`)},F),a.createElement(B.Provider,{value:b.current},V["container-start"],a.createElement(n,{className:(void 0===(r=O.wrapperClass)&&(r=""),r)?r.includes("swiper-wrapper")?r:`swiper-wrapper ${r}`:"swiper-wrapper"},V["wrapper-start"],O.virtual?function(e,t,r){if(!r)return null;let i=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:n,to:o}=r,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,u=[];for(let e=l;e<c;e+=1)e>=n&&e<=o&&u.push(t[i(e)]);return u.map((t,r)=>a.cloneElement(t,{swiper:e,style:s,key:`slide-${r}`}))}(b.current,H,p):H.map((e,t)=>a.cloneElement(e,{swiper:b.current,swiperSlideIndex:t})),V["wrapper-end"]),A(O)&&a.createElement(a.Fragment,null,a.createElement("div",{ref:T,className:"swiper-button-prev"}),a.createElement("div",{ref:S,className:"swiper-button-next"})),L(O)&&a.createElement("div",{ref:k,className:"swiper-scrollbar"}),M(O)&&a.createElement("div",{ref:E,className:"swiper-pagination"}),V["container-end"]))});F.displayName="Swiper";let G=(0,a.forwardRef)(function(e,t){let{tag:r="div",children:i,className:s="",swiper:n,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=void 0===e?{}:e,h=(0,a.useRef)(null),[p,f]=(0,a.useState)("swiper-slide"),[m,g]=(0,a.useState)(!1);function v(e,t,r){t===h.current&&f(r)}D(()=>{if(void 0!==u&&(h.current.swiperSlideIndex=u),t&&(t.current=h.current),h.current&&n){if(n.destroyed){"swiper-slide"!==p&&f("swiper-slide");return}return n.on("_slideClass",v),()=>{n&&n.off("_slideClass",v)}}}),D(()=>{n&&h.current&&!n.destroyed&&f(n.getSlideClasses(h.current))},[n]);let y={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},b=()=>"function"==typeof i?i(y):i;return a.createElement(r,N({ref:h,className:R(`${p}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:()=>{g(!0)}},d),o&&a.createElement(z.Provider,{value:y},a.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof o?o:void 0},b(),l&&!m&&a.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&a.createElement(z.Provider,{value:y},b(),l&&!m&&a.createElement("div",{className:"swiper-lazy-preloader"})))});G.displayName="SwiperSlide"},2151:function(e){"use strict";e.exports={version:"1.0.34"}}}]);